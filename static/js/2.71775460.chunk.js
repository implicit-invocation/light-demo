/*! For license information please see 2.71775460.chunk.js.LICENSE.txt */
(this["webpackJsonplight-gdxjs"]=this["webpackJsonplight-gdxjs"]||[]).push([[2],[function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}e.d(n,"a",(function(){return i}))},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",(function(){return r}))},function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(10);function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r.a)(t))){var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw o}}}}},function(t,n,e){t.exports=e(29)},function(t,n){function e(t,n,e){var r=e?t[n]:Object.getOwnPropertyDescriptor(t,n);return!e&&r.value&&"object"===typeof r.value&&(r=r.value),!(!r||!function(t){return!!t.get&&"function"===typeof t.get||!!t.set&&"function"===typeof t.set}(r))&&("undefined"===typeof r.enumerable&&(r.enumerable=!0),"undefined"===typeof r.configurable&&(r.configurable=!0),r)}function r(t,n){var e=Object.getOwnPropertyDescriptor(t,n);return!!e&&(e.value&&"object"===typeof e.value&&(e=e.value),!1===e.configurable)}function i(t,n,i,o){for(var u in n)if(n.hasOwnProperty(u)){var s=e(n,u,i);if(!1!==s){if(r((o||t).prototype,u)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,u,s)}else t.prototype[u]=n[u]}}function o(t,n){if(n){Array.isArray(n)||(n=[n]);for(var e=0;e<n.length;e++)i(t,n[e].prototype||n[e])}}function a(t){var n,e;if(t||(t={}),t.initialize){if("function"!==typeof t.initialize)throw new Error("initialize must be a function");n=t.initialize,delete t.initialize}else if(t.Extends){var r=t.Extends;n=function(){r.apply(this,arguments)}}else n=function(){};t.Extends?(n.prototype=Object.create(t.Extends.prototype),n.prototype.constructor=n,e=t.Extends,delete t.Extends):n.prototype.constructor=n;var a=null;return t.Mixins&&(a=t.Mixins,delete t.Mixins),o(n,a),i(n,t,!0,e),n}a.extend=i,a.mixin=o,a.ignoreFinals=!1,t.exports=a},function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return a})),e.d(n,"f",(function(){return E})),e.d(n,"d",(function(){return It})),e.d(n,"e",(function(){return St})),e.d(n,"c",(function(){return Pt}));var r={};e.r(r),e.d(r,"create",(function(){return P})),e.d(r,"clone",(function(){return L})),e.d(r,"copy",(function(){return U})),e.d(r,"fromValues",(function(){return O})),e.d(r,"set",(function(){return N})),e.d(r,"identity",(function(){return D})),e.d(r,"transpose",(function(){return B})),e.d(r,"invert",(function(){return j})),e.d(r,"adjoint",(function(){return k})),e.d(r,"determinant",(function(){return F})),e.d(r,"multiply",(function(){return C})),e.d(r,"translate",(function(){return V})),e.d(r,"scale",(function(){return q})),e.d(r,"rotate",(function(){return Y})),e.d(r,"rotateX",(function(){return G})),e.d(r,"rotateY",(function(){return H})),e.d(r,"rotateZ",(function(){return X})),e.d(r,"fromTranslation",(function(){return z})),e.d(r,"fromScaling",(function(){return W})),e.d(r,"fromRotation",(function(){return Z})),e.d(r,"fromXRotation",(function(){return Q})),e.d(r,"fromYRotation",(function(){return $})),e.d(r,"fromZRotation",(function(){return K})),e.d(r,"fromRotationTranslation",(function(){return J})),e.d(r,"fromQuat2",(function(){return tt})),e.d(r,"getTranslation",(function(){return nt})),e.d(r,"getScaling",(function(){return et})),e.d(r,"getRotation",(function(){return rt})),e.d(r,"fromRotationTranslationScale",(function(){return it})),e.d(r,"fromRotationTranslationScaleOrigin",(function(){return ot})),e.d(r,"fromQuat",(function(){return at})),e.d(r,"frustum",(function(){return ut})),e.d(r,"perspective",(function(){return st})),e.d(r,"perspectiveFromFieldOfView",(function(){return ct})),e.d(r,"ortho",(function(){return ft})),e.d(r,"lookAt",(function(){return ht})),e.d(r,"targetTo",(function(){return lt})),e.d(r,"str",(function(){return dt})),e.d(r,"frob",(function(){return pt})),e.d(r,"add",(function(){return _t})),e.d(r,"subtract",(function(){return vt})),e.d(r,"multiplyScalar",(function(){return gt})),e.d(r,"multiplyScalarAndAdd",(function(){return mt})),e.d(r,"exactEquals",(function(){return yt})),e.d(r,"equals",(function(){return bt})),e.d(r,"mul",(function(){return wt})),e.d(r,"sub",(function(){return At}));var i=e(17),o=e.n(i).a,a=function(t){var n,e=Date.now(),r=0,i=!0,o=0,a=0;return function u(){if(i){var s=Date.now()-e;e=Date.now(),o++,(a+=s)>=1e3&&(r=o,o=0,a-=1e3),t(s/1e3),n=requestAnimationFrame(u)}}(),{isRunning:function(){return i},start:function(){i||(i=!0,loop())},stop:function(){n&&cancelAnimationFrame(n),i=!1},getFps:function(){return r}}},u=e(1),s=e(0),c=e(18),f=function(){function t(n){var e=this;Object(u.a)(this,t),this.canvas=n,this.lastX=0,this.lastY=0,this.touched=!1;var r=this.emitter=new c.EventEmitter;this.mouseDownHandler=function(t){e.touched=!0,e.handleMove(t),r.emit("touchStart",e.getX(),e.getY())},this.mouseUpHandler=function(t){e.touched=!1,r.emit("touchEnd",e.getX(),e.getY())},this.mouseMoveHandler=function(t){e.handleMove(t),r.emit("touchMove",e.getX(),e.getY())},this.touchStartHandler=function(t){t.preventDefault();var n=t.touches[0];e.canvas.dispatchEvent(new MouseEvent("mousedown",{clientX:n.clientX,clientY:n.clientY}))},this.touchEndHandler=function(t){t.preventDefault(),e.canvas.dispatchEvent(new MouseEvent("mouseup"))},this.touchMoveHandler=function(t){t.preventDefault();var n=t.touches[0];e.canvas.dispatchEvent(new MouseEvent("mousemove",{clientX:n.clientX,clientY:n.clientY}))},this.canvas.addEventListener("mousedown",this.mouseDownHandler,!1),this.canvas.addEventListener("mouseup",this.mouseUpHandler,!1),this.canvas.addEventListener("mousemove",this.mouseMoveHandler,!1),this.canvas.addEventListener("touchstart",this.touchStartHandler,!1),this.canvas.addEventListener("touchend",this.touchEndHandler,!1),this.canvas.addEventListener("touchmove",this.touchMoveHandler,!1)}return Object(s.a)(t,[{key:"cleanup",value:function(){this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("touchstart",this.touchStartHandler),this.canvas.removeEventListener("touchend",this.touchEndHandler),this.canvas.removeEventListener("touchmove",this.touchMoveHandler)}},{key:"addEventListener",value:function(t,n){this.emitter.addListener(t,n)}},{key:"handleMove",value:function(t){var n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,r=t.clientY-n.top;this.lastX=e,this.lastY=r}},{key:"getX",value:function(){return this.lastX}},{key:"getY",value:function(){return this.lastY}},{key:"isTouched",value:function(){return this.touched}}]),t}(),h=e(3),l=e.n(h);var d=e(10);function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}}(t,n)||Object(d.a)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=e(6);function v(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function g(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?g(Object(e),!0).forEach((function(n){v(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var y=e(7),b=e.n(y),w=function(t,n,e){return new Promise((function(r){var i=new Image;i.src=n,i.onload=function(){var n=new b.a(t,m(m({},e),{},{image:i}));n.setFilter(b.a.Filter.LINEAR,b.a.Filter.LINEAR,!1),r(n)}}))},A=(b.a.Filter,function(){function t(n,e,r,i,o,a,s,c,f){Object(u.a)(this,t),s&&c||(s=1/n.width,c=1/n.height);var h=e*s,l=r*c,d=(e+i)*s,p=(r+o)*c;for(var _ in this.texture=n,this.x=e,this.y=r,this.width=i,this.height=o,f?(this.u=d,this.v=l,this.u2=h,this.v2=p):(this.u=h,this.v=l,this.u2=d,this.v2=p),a)this[_]=a[_]}return Object(s.a)(t,null,[{key:"splitTexture",value:function(n,e,r){for(var i=n.width/e,o=n.height/r,a=[],u=0;u<e;u++)for(var s=0;s<r;s++)a.push(new t(n,u*i,s*o,i,o,{}));return a}}]),Object(s.a)(t,[{key:"draw",value:function(t,n,e,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1;t.draw(this.texture,n,e,r,i,o,a,u,s,c,this.u,this.v,this.u2,this.v2)}}]),t}());function M(t,n){for(var e=t.split("/"),r=n.split("/"),i=[],o=0,a=e.length;o<a;o++)if(".."===e[o])i.pop();else{if("."===e[o])continue;i.push(e[o])}for(var u=0,s=r.length;u<s;u++)if(".."===r[u])i.pop();else{if("."===r[u])continue;i.push(r[u])}return i.join("/")}var x=0,T=1,E=function(){var t=Object(_.a)(l.a.mark((function t(n,e,r){var i,o,a,u,s,c,f,h,d,_,v,g,m,y,b,E,I,S,R,P,L,U,O,N,D,B,j,k,F,C,V,q,Y,G,H,X,z,W,Z,Q;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.text()}));case 2:i=t.sent,o=[],a=[],s=i.split("\n"),c=0;case 7:if(void 0!==(h=s[c])){t.next=11;break}return t.abrupt("break",15);case 11:0===h.trim().length?u=null:null===u?(d=M(e,"../".concat(h)),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),_=parseInt(f[0],10),v=parseInt(f[1],10),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),g=f[0],c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),m=p(f,2),y=m[0],b=m[1],c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),E=f[0],I=x,S=x,"x"===E?I=T:"y"===E?S=T:"xy"===E&&(I=T,S=T),u={file:d,width:_,height:v,format:g,mipMaps:"Nearest"!==y&&"Linear"!==y,min:y,max:b,direction:E,repeatX:I,repeatY:S},o.push(u)):(R=h,c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),P="true"===f[0],c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),L=parseInt(f[0],10),U=parseInt(f[1],10),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),O=parseInt(f[0],10),N=parseInt(f[1],10),D={name:R,rotate:P,left:L,top:U,width:O,height:N,page:u},c++,h=s[c],4===(f=h.split(":")[1].split(",").map((function(t){return t.trim()}))).length&&(D.splits=f.map((function(t){return parseInt(t,10)})),c++,h=s[c],4===(f=h.split(":")[1].split(",").map((function(t){return t.trim()}))).length&&(D.pads=f.map((function(t){return parseInt(t,10)})),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})))),D.originalWidth=parseInt(f[0],10),D.originalHeight=parseInt(f[1],10),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),D.offsetX=parseInt(f[0],10),D.offsetY=parseInt(f[1],10),c++,h=s[c],f=h.split(":")[1].split(",").map((function(t){return t.trim()})),D.index=parseInt(f[0],10),a.push(D)),c++,t.next=7;break;case 15:B=0,j=o;case 16:if(!(B<j.length)){t.next=26;break}return k=j[B],t.next=20,w(n,k.file,r);case 20:k.texture=t.sent,k.invTexWidth=1/k.texture.width,k.invTexHeight=1/k.texture.height;case 23:B++,t.next=16;break;case 26:for(F=[],C=0,V=a;C<V.length;C++)q=V[C],Y=q.left,G=q.top,H=q.rotate?q.height:q.width,X=q.rotate?q.width:q.height,z=q.page,W=z.texture,Z=z.invTexWidth,Q=z.invTexHeight,F.push(new A(W,Y,G,H,X,q,Z,Q,q.rotate));return t.abrupt("return",{getPages:function(){return o},getRegions:function(){return F},findRegion:function(t,n){for(var e=0;e<F.length;e++){var r=F[e];if(r.name===t&&(void 0===n||r.index===n))return r}return null},findRegions:function(t){return F.filter((function(n){return n.name===t})).sort((function(t,n){return t.index-n.index}))}});case 29:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}();var I=function(t,n,e,r,i,o,a){var u=p(n,3),s=u[0],c=u[1],f=u[2];return s-=r,c=a-c-1,c-=i,t[0]=2*s/o-1,t[1]=2*c/a-1,t[2]=2*f-1,function(t,n,e){var r=p(n,3),i=r[0],o=r[1],a=r[2],u=e,s=u[0],c=u[1],f=u[2],h=u[3],l=u[4],d=u[5],_=u[6],v=u[7],g=u[8],m=u[9],y=u[10],b=u[11],w=u[12],A=u[13],M=u[14],x=1/(i*h+o*v+a*b+u[15]);return t[0]=(i*s+o*l+a*g+w)*x,t[1]=(i*c+o*d+a*m+A)*x,t[2]=(i*f+o*_+a*y+M)*x,t}(t,t,e)},S=1e-6,R="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function P(){var t=new R(16);return R!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function L(t){var n=new R(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function U(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function O(t,n,e,r,i,o,a,u,s,c,f,h,l,d,p,_){var v=new R(16);return v[0]=t,v[1]=n,v[2]=e,v[3]=r,v[4]=i,v[5]=o,v[6]=a,v[7]=u,v[8]=s,v[9]=c,v[10]=f,v[11]=h,v[12]=l,v[13]=d,v[14]=p,v[15]=_,v}function N(t,n,e,r,i,o,a,u,s,c,f,h,l,d,p,_,v){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=d,t[13]=p,t[14]=_,t[15]=v,t}function D(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function j(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],_=n[13],v=n[14],g=n[15],m=e*u-r*a,y=e*s-i*a,b=e*c-o*a,w=r*s-i*u,A=r*c-o*u,M=i*c-o*s,x=f*_-h*p,T=f*v-l*p,E=f*g-d*p,I=h*v-l*_,S=h*g-d*_,R=l*g-d*v,P=m*R-y*S+b*I+w*E-A*T+M*x;return P?(P=1/P,t[0]=(u*R-s*S+c*I)*P,t[1]=(i*S-r*R-o*I)*P,t[2]=(_*M-v*A+g*w)*P,t[3]=(l*A-h*M-d*w)*P,t[4]=(s*E-a*R-c*T)*P,t[5]=(e*R-i*E+o*T)*P,t[6]=(v*b-p*M-g*y)*P,t[7]=(f*M-l*b+d*y)*P,t[8]=(a*S-u*E+c*x)*P,t[9]=(r*E-e*S-o*x)*P,t[10]=(p*A-_*b+g*m)*P,t[11]=(h*b-f*A-d*m)*P,t[12]=(u*T-a*I-s*x)*P,t[13]=(e*I-r*T+i*x)*P,t[14]=(_*y-p*w-v*m)*P,t[15]=(f*w-h*y+l*m)*P,t):null}function k(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],_=n[13],v=n[14],g=n[15];return t[0]=u*(l*g-d*v)-h*(s*g-c*v)+_*(s*d-c*l),t[1]=-(r*(l*g-d*v)-h*(i*g-o*v)+_*(i*d-o*l)),t[2]=r*(s*g-c*v)-u*(i*g-o*v)+_*(i*c-o*s),t[3]=-(r*(s*d-c*l)-u*(i*d-o*l)+h*(i*c-o*s)),t[4]=-(a*(l*g-d*v)-f*(s*g-c*v)+p*(s*d-c*l)),t[5]=e*(l*g-d*v)-f*(i*g-o*v)+p*(i*d-o*l),t[6]=-(e*(s*g-c*v)-a*(i*g-o*v)+p*(i*c-o*s)),t[7]=e*(s*d-c*l)-a*(i*d-o*l)+f*(i*c-o*s),t[8]=a*(h*g-d*_)-f*(u*g-c*_)+p*(u*d-c*h),t[9]=-(e*(h*g-d*_)-f*(r*g-o*_)+p*(r*d-o*h)),t[10]=e*(u*g-c*_)-a*(r*g-o*_)+p*(r*c-o*u),t[11]=-(e*(u*d-c*h)-a*(r*d-o*h)+f*(r*c-o*u)),t[12]=-(a*(h*v-l*_)-f*(u*v-s*_)+p*(u*l-s*h)),t[13]=e*(h*v-l*_)-f*(r*v-i*_)+p*(r*l-i*h),t[14]=-(e*(u*v-s*_)-a*(r*v-i*_)+p*(r*s-i*u)),t[15]=e*(u*l-s*h)-a*(r*l-i*h)+f*(r*s-i*u),t}function F(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],d=t[12],p=t[13],_=t[14],v=t[15];return(n*a-e*o)*(h*v-l*_)-(n*u-r*o)*(f*v-l*p)+(n*s-i*o)*(f*_-h*p)+(e*u-r*a)*(c*v-l*d)-(e*s-i*a)*(c*_-h*d)+(r*s-i*u)*(c*p-f*d)}function C(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],d=n[10],p=n[11],_=n[12],v=n[13],g=n[14],m=n[15],y=e[0],b=e[1],w=e[2],A=e[3];return t[0]=y*r+b*u+w*h+A*_,t[1]=y*i+b*s+w*l+A*v,t[2]=y*o+b*c+w*d+A*g,t[3]=y*a+b*f+w*p+A*m,y=e[4],b=e[5],w=e[6],A=e[7],t[4]=y*r+b*u+w*h+A*_,t[5]=y*i+b*s+w*l+A*v,t[6]=y*o+b*c+w*d+A*g,t[7]=y*a+b*f+w*p+A*m,y=e[8],b=e[9],w=e[10],A=e[11],t[8]=y*r+b*u+w*h+A*_,t[9]=y*i+b*s+w*l+A*v,t[10]=y*o+b*c+w*d+A*g,t[11]=y*a+b*f+w*p+A*m,y=e[12],b=e[13],w=e[14],A=e[15],t[12]=y*r+b*u+w*h+A*_,t[13]=y*i+b*s+w*l+A*v,t[14]=y*o+b*c+w*d+A*g,t[15]=y*a+b*f+w*p+A*m,t}function V(t,n,e){var r,i,o,a,u,s,c,f,h,l,d,p,_=e[0],v=e[1],g=e[2];return n===t?(t[12]=n[0]*_+n[4]*v+n[8]*g+n[12],t[13]=n[1]*_+n[5]*v+n[9]*g+n[13],t[14]=n[2]*_+n[6]*v+n[10]*g+n[14],t[15]=n[3]*_+n[7]*v+n[11]*g+n[15]):(r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],d=n[10],p=n[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=h,t[9]=l,t[10]=d,t[11]=p,t[12]=r*_+u*v+h*g+n[12],t[13]=i*_+s*v+l*g+n[13],t[14]=o*_+c*v+d*g+n[14],t[15]=a*_+f*v+p*g+n[15]),t}function q(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Y(t,n,e,r){var i,o,a,u,s,c,f,h,l,d,p,_,v,g,m,y,b,w,A,M,x,T,E,I,R=r[0],P=r[1],L=r[2],U=Math.hypot(R,P,L);return U<S?null:(R*=U=1/U,P*=U,L*=U,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],s=n[1],c=n[2],f=n[3],h=n[4],l=n[5],d=n[6],p=n[7],_=n[8],v=n[9],g=n[10],m=n[11],y=R*R*a+o,b=P*R*a+L*i,w=L*R*a-P*i,A=R*P*a-L*i,M=P*P*a+o,x=L*P*a+R*i,T=R*L*a+P*i,E=P*L*a-R*i,I=L*L*a+o,t[0]=u*y+h*b+_*w,t[1]=s*y+l*b+v*w,t[2]=c*y+d*b+g*w,t[3]=f*y+p*b+m*w,t[4]=u*A+h*M+_*x,t[5]=s*A+l*M+v*x,t[6]=c*A+d*M+g*x,t[7]=f*A+p*M+m*x,t[8]=u*T+h*E+_*I,t[9]=s*T+l*E+v*I,t[10]=c*T+d*E+g*I,t[11]=f*T+p*E+m*I,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function G(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],s=n[7],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+f*r,t[6]=u*i+h*r,t[7]=s*i+l*r,t[8]=c*i-o*r,t[9]=f*i-a*r,t[10]=h*i-u*r,t[11]=l*i-s*r,t}function H(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],s=n[3],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-f*r,t[2]=u*i-h*r,t[3]=s*i-l*r,t[8]=o*r+c*i,t[9]=a*r+f*i,t[10]=u*r+h*i,t[11]=s*r+l*i,t}function X(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],s=n[3],c=n[4],f=n[5],h=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+f*r,t[2]=u*i+h*r,t[3]=s*i+l*r,t[4]=c*i-o*r,t[5]=f*i-a*r,t[6]=h*i-u*r,t[7]=l*i-s*r,t}function z(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function W(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Z(t,n,e){var r,i,o,a=e[0],u=e[1],s=e[2],c=Math.hypot(a,u,s);return c<S?null:(a*=c=1/c,u*=c,s*=c,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+s*r,t[2]=s*a*o-u*r,t[3]=0,t[4]=a*u*o-s*r,t[5]=u*u*o+i,t[6]=s*u*o+a*r,t[7]=0,t[8]=a*s*o+u*r,t[9]=u*s*o-a*r,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Q(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function K(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function J(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,s=i+i,c=o+o,f=r*u,h=r*s,l=r*c,d=i*s,p=i*c,_=o*c,v=a*u,g=a*s,m=a*c;return t[0]=1-(d+_),t[1]=h+m,t[2]=l-g,t[3]=0,t[4]=h-m,t[5]=1-(f+_),t[6]=p+v,t[7]=0,t[8]=l+g,t[9]=p-v,t[10]=1-(f+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function tt(t,n){var e=new R(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=r*r+i*i+o*o+a*a;return h>0?(e[0]=2*(u*a+f*r+s*o-c*i)/h,e[1]=2*(s*a+f*i+c*r-u*o)/h,e[2]=2*(c*a+f*o+u*i-s*r)/h):(e[0]=2*(u*a+f*r+s*o-c*i),e[1]=2*(s*a+f*i+c*r-u*o),e[2]=2*(c*a+f*o+u*i-s*r)),J(t,n,e),t}function nt(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function et(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],s=n[8],c=n[9],f=n[10];return t[0]=Math.hypot(e,r,i),t[1]=Math.hypot(o,a,u),t[2]=Math.hypot(s,c,f),t}function rt(t,n){var e=new R(3);et(e,n);var r=1/e[0],i=1/e[1],o=1/e[2],a=n[0]*r,u=n[1]*i,s=n[2]*o,c=n[4]*r,f=n[5]*i,h=n[6]*o,l=n[8]*r,d=n[9]*i,p=n[10]*o,_=a+f+p,v=0;return _>0?(v=2*Math.sqrt(_+1),t[3]=.25*v,t[0]=(h-d)/v,t[1]=(l-s)/v,t[2]=(u-c)/v):a>f&&a>p?(v=2*Math.sqrt(1+a-f-p),t[3]=(h-d)/v,t[0]=.25*v,t[1]=(u+c)/v,t[2]=(l+s)/v):f>p?(v=2*Math.sqrt(1+f-a-p),t[3]=(l-s)/v,t[0]=(u+c)/v,t[1]=.25*v,t[2]=(h+d)/v):(v=2*Math.sqrt(1+p-a-f),t[3]=(u-c)/v,t[0]=(l+s)/v,t[1]=(h+d)/v,t[2]=.25*v),t}function it(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,f=a+a,h=i*s,l=i*c,d=i*f,p=o*c,_=o*f,v=a*f,g=u*s,m=u*c,y=u*f,b=r[0],w=r[1],A=r[2];return t[0]=(1-(p+v))*b,t[1]=(l+y)*b,t[2]=(d-m)*b,t[3]=0,t[4]=(l-y)*w,t[5]=(1-(h+v))*w,t[6]=(_+g)*w,t[7]=0,t[8]=(d+m)*A,t[9]=(_-g)*A,t[10]=(1-(h+p))*A,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function ot(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],s=n[3],c=o+o,f=a+a,h=u+u,l=o*c,d=o*f,p=o*h,_=a*f,v=a*h,g=u*h,m=s*c,y=s*f,b=s*h,w=r[0],A=r[1],M=r[2],x=i[0],T=i[1],E=i[2],I=(1-(_+g))*w,S=(d+b)*w,R=(p-y)*w,P=(d-b)*A,L=(1-(l+g))*A,U=(v+m)*A,O=(p+y)*M,N=(v-m)*M,D=(1-(l+_))*M;return t[0]=I,t[1]=S,t[2]=R,t[3]=0,t[4]=P,t[5]=L,t[6]=U,t[7]=0,t[8]=O,t[9]=N,t[10]=D,t[11]=0,t[12]=e[0]+x-(I*x+P*T+O*E),t[13]=e[1]+T-(S*x+L*T+N*E),t[14]=e[2]+E-(R*x+U*T+D*E),t[15]=1,t}function at(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,s=i+i,c=e*a,f=r*a,h=r*u,l=i*a,d=i*u,p=i*s,_=o*a,v=o*u,g=o*s;return t[0]=1-h-p,t[1]=f+g,t[2]=l-v,t[3]=0,t[4]=f-g,t[5]=1-c-p,t[6]=d+_,t[7]=0,t[8]=l+v,t[9]=d-_,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ut(t,n,e,r,i,o,a){var u=1/(e-n),s=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*s,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function st(t,n,e,r,i){var o,a=1/Math.tan(n/2);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function ct(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function ft(t,n,e,r,i,o,a){var u=1/(n-e),s=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*s,t[14]=(a+o)*c,t[15]=1,t}function ht(t,n,e,r){var i,o,a,u,s,c,f,h,l,d,p=n[0],_=n[1],v=n[2],g=r[0],m=r[1],y=r[2],b=e[0],w=e[1],A=e[2];return Math.abs(p-b)<S&&Math.abs(_-w)<S&&Math.abs(v-A)<S?D(t):(f=p-b,h=_-w,l=v-A,i=m*(l*=d=1/Math.hypot(f,h,l))-y*(h*=d),o=y*(f*=d)-g*l,a=g*h-m*f,(d=Math.hypot(i,o,a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),u=h*a-l*o,s=l*i-f*a,c=f*o-h*i,(d=Math.hypot(u,s,c))?(u*=d=1/d,s*=d,c*=d):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=l,t[11]=0,t[12]=-(i*p+o*_+a*v),t[13]=-(u*p+s*_+c*v),t[14]=-(f*p+h*_+l*v),t[15]=1,t)}function lt(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],s=r[1],c=r[2],f=i-e[0],h=o-e[1],l=a-e[2],d=f*f+h*h+l*l;d>0&&(f*=d=1/Math.sqrt(d),h*=d,l*=d);var p=s*l-c*h,_=c*f-u*l,v=u*h-s*f;return(d=p*p+_*_+v*v)>0&&(p*=d=1/Math.sqrt(d),_*=d,v*=d),t[0]=p,t[1]=_,t[2]=v,t[3]=0,t[4]=h*v-l*_,t[5]=l*p-f*v,t[6]=f*_-h*p,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function dt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function pt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function _t(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function vt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function gt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function mt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function yt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function bt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],h=t[9],l=t[10],d=t[11],p=t[12],_=t[13],v=t[14],g=t[15],m=n[0],y=n[1],b=n[2],w=n[3],A=n[4],M=n[5],x=n[6],T=n[7],E=n[8],I=n[9],R=n[10],P=n[11],L=n[12],U=n[13],O=n[14],N=n[15];return Math.abs(e-m)<=S*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(r-y)<=S*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(i-b)<=S*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-w)<=S*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-A)<=S*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(u-M)<=S*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(s-x)<=S*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-T)<=S*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-E)<=S*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-I)<=S*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(l-R)<=S*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(d-P)<=S*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-L)<=S*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(_-U)<=S*Math.max(1,Math.abs(_),Math.abs(U))&&Math.abs(v-O)<=S*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(g-N)<=S*Math.max(1,Math.abs(g),Math.abs(N))}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var wt=C,At=vt,Mt=function(){function t(n,e){Object(u.a)(this,t),this.x=n,this.y=e}return Object(s.a)(t,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"set",value:function(t,n){return this.x=t,this.y=n,this}},{key:"setVector",value:function(t){return this.set(t.x,t.y)}},{key:"add",value:function(t,n){return this.x+=t,this.y+=n,this}},{key:"addVector",value:function(t){return this.add(t.x,t.y)}},{key:"sub",value:function(t,n){return this.add(-t,-n)}},{key:"subVector",value:function(t){return this.sub(t.x,t.y)}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"distanceSqr",value:function(t){var n=this.x-t.x,e=this.y-t.y;return n*n+e*e}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSqr(t))}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"len2",value:function(){return this.x*this.x+this.y*this.y}},{key:"len",value:function(){return Math.sqrt(this.len2())}},{key:"nor",value:function(){var t=this.len();return 0!==t&&(this.x/=t,this.y/=t),this}},{key:"rotateRad",value:function(t){var n=Math.cos(t),e=Math.sin(t),r=this.x*n-this.y*e,i=this.x*e+this.y*n;return this.x=r,this.y=i,this}},{key:"rotate",value:function(t){return this.rotateRad(t*Math.PI/180)}},{key:"cpy",value:function(){return new t(this.x,this.y)}}]),t}(),xt=function(t,n){var e=n||window.devicePixelRatio||1,r=t.clientWidth*e,i=t.clientHeight*e;return t.width===r&&t.height===i||(t.width=r,t.height=i),[r,i]},Tt=(new Mt(0,0),new Mt(0,0),new Mt(0,0),e(2)),Et={autoUpdate:!0,pixelRatio:void 0,crop:!0},It=function(t,n,e,i){i=m(m({},Et),i);var o,a=t.getContext("webgl"),u=[],s=i,c=s.autoUpdate,f=s.pixelRatio,h=s.crop,l={pixelRatio:f=f||window.devicePixelRatio||1,x:0,y:0,width:n,height:e},d=p(xt(t,f),2),_=d[0],v=d[1],g=function(t,n,e,i){var o=r.create(),a=r.create(),u=r.create(),s=r.create(),c=r.create(),f=new Mt(0,0),h=[0,0,0],l=[0,0,1],d=[0,0,0],p=[0,1,0],_=function(){r.ortho(o,0,t,n,0,0,1);var e=f.x,i=f.y;l[0]=d[0]=e,l[1]=d[1]=i,r.identity(a),r.lookAt(c,l,d,p),r.mul(a,a,c),r.mul(a,a,s),r.mul(o,o,a),r.invert(u,o)};return _(),{combined:o,getPosition:function(){return f},zoomTo:function(t,n,e){r.translate(s,s,[t,n,0]),r.scale(s,s,[e,e,1]),r.translate(s,s,[-t,-n,0]),_()},setMatrix:function(t){r.copy(o,t),r.invert(u,o)},setYUp:function(t){p[1]=t?-1:1,_()},setPosition:function(t,n){f.set(t,n),_()},unprojectVector2:function(t,n){h[0]=n.x,h[1]=n.y,h[2]=0,I(h,h,u,0,0,e,i),t.set(h[0],h[1])},resize:function(r,o,a,u){t=r,n=o,a&&(e=a),u&&(i=u),_()}}}(n,e,_,v);c&&(o=function(t){y.update()},window.addEventListener("resize",o));var y={getViewportInfo:function(){return l},getCamera:function(){return g},addCamera:function(t){u.push(t)},getContext:function(){return a},getCanvas:function(){return t},update:function(){var r=p(xt(t,f),2),i=r[0],o=r[1],s=n/e,c=i/o;if(h){var d,_;s<c?(_=o,d=o*s):(d=i,_=i/s);var v=(i-d)/2,m=(o-_)/2;l.x=v,l.y=m,l.width=d,l.height=_,a.viewport(v,m,d,_),g.resize(n,e,d,_);var y,b=Object(Tt.a)(u);try{for(b.s();!(y=b.n()).done;){y.value.resize(n,e,d,_)}}catch(S){b.e(S)}finally{b.f()}}else{var w,A,M,x;l.x=0,l.y=0,l.width=i,l.height=o,a.viewport(0,0,i,o),s<c?(M=-((w=(A=e)*c)-n)/2,x=0):(M=0,x=-((A=(w=n)/c)-e)/2),g.resize(w,A,i,o),g.setPosition(M,x);var T,E=Object(Tt.a)(u);try{for(E.s();!(T=E.n()).done;){var I=T.value;I.resize(w,A,i,o),I.setPosition(M,x)}}catch(S){E.e(S)}finally{E.f()}}},cleanUp:function(){o&&window.removeEventListener("resize",o)}};return c&&y.update(),y},St=function(t,n){var e=new f(t),r=new Mt,i=new Mt;return{isTouched:function(){return e.isTouched()},cleanup:function(){e.cleanup()},addEventListener:function(t,r){e.addEventListener(t,function(t,n){return function(e,r,i){var o=n.getViewportInfo(),a=o.x,u=o.y,s=o.pixelRatio;t(e=e*s-a,r=r*s-u,i)}}(r,n))},getX:function(){var t=n.getViewportInfo(),r=t.x,i=t.pixelRatio;return e.getX()*i-r},getY:function(){var t=n.getViewportInfo(),r=t.y,i=t.pixelRatio;return e.getY()*i-r},getTouchedWorldCoord:function(){return r.set(this.getX(),this.getY()),n.getCamera().unprojectVector2(i,r),i}}},Rt=(e(15),{hidden:!1,info:!0}),Pt=function(t){t=m(m({},Rt),t);var n=document.createElement("div");n.style="position:fixed;top:0;left:0;right:0;bottom:0;",t.hidden&&(n.style.display="none");var e=document.createElement("canvas");e.style="width:100%;height:100%;";var r=document.createElement("div");return r.style="position:absolute;top:1em;left:1em;color:white",t.info||(r.style.display="none"),n.appendChild(e),n.appendChild(r),document.body.appendChild(n),{getCanvas:function(){return e},getInfo:function(){return r},show:function(){return n.style.display="block"},hide:function(){return n.style.display="none"},cleanup:function(){return document.body.removeChild(n)}}}},function(t,n,e){"use strict";function r(t,n,e,r,i,o,a){try{var u=t[o](a),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(r,i)}function i(t){return function(){var n=this,e=arguments;return new Promise((function(i,o){var a=t.apply(n,e);function u(t){r(a,i,o,u,s,"next",t)}function s(t){r(a,i,o,u,s,"throw",t)}u(void 0)}))}}e.d(n,"a",(function(){return i}))},function(t,n,e){var r=e(4),i=(e(9).nextPowerOfTwo,e(9).isPowerOfTwo),o=e(8).BaseObject,a=new r({initialize:function t(n,e){if(!(this instanceof t))return new t(n,e);o.call(this,n),this.managedArgs=e,this.id=null,this.target=this.context.gl.TEXTURE_2D,this.width=0,this.height=0,this.__shape=[0,0],this.wrapS=t.DEFAULT_WRAP,this.wrapT=t.DEFAULT_WRAP,this.minFilter=t.DEFAULT_FILTER,this.magFilter=t.DEFAULT_FILTER,this.context.addManagedObject(this),this.create()},setup:function(t){var n=this.gl;if(t)if(t.src&&"string"===typeof t.src){var e=new Image,r=t.src,i=t.crossOrigin,o="function"===typeof t.onLoad?t.onLoad:null,u="function"===typeof t.onError?t.onError:null,s=t.genMipmaps,c=this;a.USE_DUMMY_1x1_DATA&&(c.uploadData(1,1),this.width=this.height=0),e.crossOrigin=i,e.onload=function(t){c.uploadImage(e,void 0,void 0,s),"function"===typeof o&&o.call(c,t,c)},e.onerror=function(t){s&&n.generateMipmap(n.TEXTURE_2D),"function"===typeof u&&u.call(c,t,c)},e.onabort=function(t){s&&n.generateMipmap(n.TEXTURE_2D),"function"===typeof u&&u.call(c,t,c)},e.src=r}else t.image?this.uploadImage(t.image,t.format,t.dataType,t.genMipmaps):this.uploadData(t.width,t.height,t.format,t.dataType,t.data,t.genMipmaps)},create:function(){this.gl=this.context.gl;var t=this.gl;this.id=t.createTexture(),this.width=this.height=0,this.target=t.TEXTURE_2D,this.bind(),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.UNPACK_PREMULTIPLY_ALPHA),t.pixelStorei(t.UNPACK_ALIGNMENT,a.UNPACK_ALIGNMENT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,a.UNPACK_FLIP_Y);var n=a.UNPACK_COLORSPACE_CONVERSION||t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,n),this.setWrap(this.wrapS,this.wrapT,!1),this.setFilter(this.minFilter,this.magFilter,!1),this.managedArgs&&this.setup(this.managedArgs)},destroy:function(){this.id&&this.gl&&this.gl.deleteTexture(this.id),this.context&&this.context.removeManagedObject(this),this.width=this.height=0,this.id=null,this.managedArgs=null,this.context=null,this.gl=null},setWrap:function(t,n,e){t&&n?(this.wrapS=t,this.wrapT=n):this.wrapS=this.wrapT=t,this._checkPOT(),e||this.bind();var r=this.gl;r.texParameteri(this.target,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(this.target,r.TEXTURE_WRAP_T,this.wrapT)},setFilter:function(t,n,e){t&&n?(this.minFilter=t,this.magFilter=n):this.minFilter=this.magFilter=t,this._checkPOT(),e||this.bind();var r=this.gl;r.texParameteri(this.target,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(this.target,r.TEXTURE_MAG_FILTER,this.magFilter)},uploadData:function(t,n,e,r,i,o){var a=this.gl;e=e||a.RGBA,r=r||a.UNSIGNED_BYTE,i=i||null,this.width=t||0==t?t:this.width,this.height=n||0==n?n:this.height,this._checkPOT(),this.bind(),a.texImage2D(this.target,0,e,this.width,this.height,0,e,r,i),o&&a.generateMipmap(this.target)},uploadImage:function(t,n,e,r){var i=this.gl;n=n||i.RGBA,e=e||i.UNSIGNED_BYTE,this.width=t.width,this.height=t.height,this._checkPOT(),this.bind(),i.texImage2D(this.target,0,n,n,e,t),r&&i.generateMipmap(this.target)},uploadSubImage:function(){},_checkPOT:function(){if(!a.FORCE_POT){var t=this.minFilter!==a.Filter.LINEAR&&this.minFilter!==a.Filter.NEAREST,n=this.wrapS!==a.Wrap.CLAMP_TO_EDGE||this.wrapT!==a.Wrap.CLAMP_TO_EDGE;if((t||n)&&(!i(this.width)||!i(this.height)))throw new Error(t?"Non-power-of-two textures cannot use mipmapping as filter":"Non-power-of-two textures must use CLAMP_TO_EDGE as wrap")}},bind:function(t){var n=this.gl;(t||0===t)&&n.activeTexture(n.TEXTURE0+t),n.bindTexture(this.target,this.id)},toString:function(){return this.id+":"+this.width+"x"+this.height},shape:{get:function(){return this.__shape[0]=this.width,this.__shape[1]=this.height,this.__shape},set:function(t){throw new Error("changing shape not supported")}}});a.Filter={NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985},a.Wrap={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},a.Format={DEPTH_COMPONENT:6402,ALPHA:6406,RGBA:6408,RGB:6407,LUMINANCE:6409,LUMINANCE_ALPHA:6410},a.DataType={BYTE:5120,SHORT:5122,INT:5124,FLOAT:5126,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635},a.DEFAULT_WRAP=a.Wrap.CLAMP_TO_EDGE,a.DEFAULT_FILTER=a.Filter.NEAREST,a.FORCE_POT=!1,a.UNPACK_FLIP_Y=!1,a.UNPACK_ALIGNMENT=1,a.UNPACK_PREMULTIPLY_ALPHA=!0,a.UNPACK_COLORSPACE_CONVERSION=void 0,a.USE_DUMMY_1x1_DATA=!0,a.getNumComponents=function(t){switch(t){case a.Format.DEPTH_COMPONENT:case a.Format.ALPHA:case a.Format.LUMINANCE:return 1;case a.Format.LUMINANCE_ALPHA:return 2;case a.Format.RGB:return 3;case a.Format.RGBA:return 4}return null},t.exports=a},function(t,n,e){var r=e(31);function i(t){var n=t&&t.rawgl?t.rawgl:t;return"undefined"!==typeof window.WebGLRenderingContext&&n instanceof window.WebGLRenderingContext?new r(t):t}t.exports.wrapContext=i,t.exports.BaseObject=function(t){if(!t||"object"!==typeof t)throw"valid GL context not specified";this.context=i(t)}},function(t,n){var e=new Int8Array(4),r=new Int32Array(e.buffer,0,1),i=new Float32Array(e.buffer,0,1),o=function(){};o.intBitsToFloat=function(t){return r[0]=t,i[0]},o.floatToIntBits=function(t){return i[0]=t,r[0]},o.intToFloatColor=function(t){return o.intBitsToFloat(4278190079&t)},o.colorToFloat=function(t,n,e,r){return o.intToFloatColor(r<<24|e<<16|n<<8|t)},o.isPowerOfTwo=function(t){return 0===(t&t-1)},o.nextPowerOfTwo=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1},t.exports=o},function(t,n,e){"use strict";function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){if(t){if("string"===typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}e.d(n,"a",(function(){return i}))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"===typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(4),i=e(8).BaseObject,o=new r({dirty:{set:function(t){this.verticesDirty=t,this.indicesDirty=t}},initialize:function(t,n,e,r,o){if(!e)throw"numVerts not specified, must be > 0";i.call(this,t),this.gl=this.context.gl,this.numVerts=null,this.numIndices=null,this.vertices=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.verticesDirty=!0,this.indicesDirty=!0,this.indexUsage=null,this.vertexUsage=null,this._vertexAttribs=null,this.vertexStride=null,this.numVerts=e,this.numIndices=r||0,this.vertexUsage=n?this.gl.STATIC_DRAW:this.gl.DYNAMIC_DRAW,this.indexUsage=n?this.gl.STATIC_DRAW:this.gl.DYNAMIC_DRAW,this._vertexAttribs=o||[],this.indicesDirty=!0,this.verticesDirty=!0;for(var a=0,u=0;u<this._vertexAttribs.length;u++)a+=this._vertexAttribs[u].offsetCount;this.vertexStride=4*a,this.vertices=new Float32Array(this.numVerts),this.indices=new Uint16Array(this.numIndices),this.context.addManagedObject(this),this.create()},create:function(){this.gl=this.context.gl;var t=this.gl;this.vertexBuffer=t.createBuffer(),this.indexBuffer=this.numIndices>0?t.createBuffer():null,this.dirty=!0},destroy:function(){this.vertices=null,this.indices=null,this.vertexBuffer&&this.gl&&this.gl.deleteBuffer(this.vertexBuffer),this.indexBuffer&&this.gl&&this.gl.deleteBuffer(this.indexBuffer),this.vertexBuffer=null,this.indexBuffer=null,this.context&&this.context.removeManagedObject(this),this.gl=null,this.context=null},_updateBuffers:function(t,n){var e=this.gl;if(this.numIndices>0&&(t||e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.indicesDirty&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,this.indexUsage),this.indicesDirty=!1)),t||e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.verticesDirty){if(n){var r=this.vertices.subarray(0,n);e.bufferSubData(e.ARRAY_BUFFER,0,r)}else e.bufferData(e.ARRAY_BUFFER,this.vertices,this.vertexUsage);this.verticesDirty=!1}},draw:function(t,n,e,r){if(0!==n){var i=this.gl;e=e||0,this._updateBuffers(!0,r),this.numIndices>0?i.drawElements(t,n,i.UNSIGNED_SHORT,2*e):i.drawArrays(t,e,n)}},bind:function(t){var n=this.gl,e=0,r=this.vertexStride;this._updateBuffers();for(var i=0;i<this._vertexAttribs.length;i++){var o=this._vertexAttribs[i],a=null===o.location?t.getAttributeLocation(o.name):o.location;n.enableVertexAttribArray(a),n.vertexAttribPointer(a,o.numComponents,o.type||n.FLOAT,o.normalize,r,e),e+=4*o.offsetCount}},unbind:function(t){for(var n=this.gl,e=0;e<this._vertexAttribs.length;e++){var r=this._vertexAttribs[e],i=null===r.location?t.getAttributeLocation(r.name):r.location;n.disableVertexAttribArray(i)}}});o.Attrib=new r({name:null,numComponents:null,location:null,type:null,initialize:function(t,n,e,r,i,o){this.name=t,this.numComponents=n,this.location="number"===typeof e?e:null,this.type=r,this.normalize=Boolean(i),this.offsetCount="number"===typeof o?o:this.numComponents}}),t.exports=o},function(t,n,e){"use strict";var r=function(t){function n(e,r,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,e),this.listener=r,this.context=i}return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(e(38));t.exports=r},function(t,n,e){"use strict";t.exports=function(t,n,e,r,i,o,a,u){if(!t){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[e,r,i,o,a,u],f=0;(s=new Error(n.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,n,e){var r=e(41),i=e(16);t.exports=function(t){var n=Array.apply(null,new Array(16)).map(Number.prototype.valueOf,255),e=i(new Uint8Array(n),[2,2,4]);return r(t,e)}},function(t,n,e){var r=e(42),i=e(43),o="undefined"!==typeof Float64Array;function a(t,n){return t[0]-n[0]}function u(){var t,n=this.stride,e=new Array(n.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(n[t]),t];e.sort(a);var r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=e[t][1];return r}function s(t,n){var e=["View",n,"d",t].join("");n<0&&(e="View_Nil"+t);var i="generic"===t;if(-1===n){var o="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}";return new Function(o)()}if(0===n){o="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}";return new Function("TrivialArray",o)(c[t][0])}o=["'use strict'"];var a=r(n),s=a.map((function(t){return"i"+t})),f="this.offset+"+a.map((function(t){return"this.stride["+t+"]*i"+t})).join("+"),h=a.map((function(t){return"b"+t})).join(","),l=a.map((function(t){return"c"+t})).join(",");o.push("function "+e+"(a,"+h+","+l+",d){this.data=a","this.shape=["+h+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+n),o.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+a.map((function(t){return"this.shape["+t+"]"})).join("*"),"}})"),1===n?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),n<4?(o.push("function "+e+"_order(){"),2===n?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===n&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+e+"_set("+s.join(",")+",v){"),i?o.push("return this.data.set("+f+",v)}"):o.push("return this.data["+f+"]=v}"),o.push("proto.get=function "+e+"_get("+s.join(",")+"){"),i?o.push("return this.data.get("+f+")}"):o.push("return this.data["+f+"]}"),o.push("proto.index=function "+e+"_index(",s.join(),"){return "+f+"}"),o.push("proto.hi=function "+e+"_hi("+s.join(",")+"){return new "+e+"(this.data,"+a.map((function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")})).join(",")+","+a.map((function(t){return"this.stride["+t+"]"})).join(",")+",this.offset)}");var d=a.map((function(t){return"a"+t+"=this.shape["+t+"]"})),p=a.map((function(t){return"c"+t+"=this.stride["+t+"]"}));o.push("proto.lo=function "+e+"_lo("+s.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var _=0;_<n;++_)o.push("if(typeof i"+_+"==='number'&&i"+_+">=0){d=i"+_+"|0;b+=c"+_+"*d;a"+_+"-=d}");o.push("return new "+e+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"c"+t})).join(",")+",b)}"),o.push("proto.step=function "+e+"_step("+s.join(",")+"){var "+a.map((function(t){return"a"+t+"=this.shape["+t+"]"})).join(",")+","+a.map((function(t){return"b"+t+"=this.stride["+t+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(_=0;_<n;++_)o.push("if(typeof i"+_+"==='number'){d=i"+_+"|0;if(d<0){c+=b"+_+"*(a"+_+"-1);a"+_+"=ceil(-a"+_+"/d)}else{a"+_+"=ceil(a"+_+"/d)}b"+_+"*=d}");o.push("return new "+e+"(this.data,"+a.map((function(t){return"a"+t})).join(",")+","+a.map((function(t){return"b"+t})).join(",")+",c)}");var v=new Array(n),g=new Array(n);for(_=0;_<n;++_)v[_]="a[i"+_+"]",g[_]="b[i"+_+"]";o.push("proto.transpose=function "+e+"_transpose("+s+"){"+s.map((function(t,n){return t+"=("+t+"===undefined?"+n+":"+t+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+e+"_pick("+s+"){var a=[],b=[],c=this.offset");for(_=0;_<n;++_)o.push("if(typeof i"+_+"==='number'&&i"+_+">=0){c=(c+this.stride["+_+"]*i"+_+")|0}else{a.push(this.shape["+_+"]);b.push(this.stride["+_+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+a.map((function(t){return"shape["+t+"]"})).join(",")+","+a.map((function(t){return"stride["+t+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[t],u)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(t,n,e,r){if(void 0===t)return(0,c.array[0])([]);"number"===typeof t&&(t=[t]),void 0===n&&(n=[t.length]);var a=n.length;if(void 0===e){e=new Array(a);for(var u=a-1,f=1;u>=0;--u)e[u]=f,f*=n[u]}if(void 0===r){r=0;for(u=0;u<a;++u)e[u]<0&&(r-=(n[u]-1)*e[u])}for(var h=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),l=c[h];l.length<=a+1;)l.push(s(h,l.length-1));return(0,l[a+1])(t,n,e,r)}},function(t,n,e){var r=e(4),i=e(12),o=e(32),a=e(35),u=e(56).mat4,s=new r({Mixins:a,initialize:function t(n,e){if(!(this instanceof t))return new t(n,e);a.call(this,n,e),this.projection=u.create(),this.texture=null},resize:function(t,n){this.setProjection(t/2,n/2)},getVertexSize:function(){return s.VERTEX_SIZE},_createVertexAttributes:function(){var t=this.context.gl;return[new i.Attrib(o.POSITION_ATTRIBUTE,2),new i.Attrib(o.COLOR_ATTRIBUTE,4,null,t.UNSIGNED_BYTE,!0,1),new i.Attrib(o.TEXCOORD_ATTRIBUTE+"0",2)]},setProjection:function(t){this.projection=t,!this.drawing||x==oldX&&y==oldY||(this.flush(),this.updateMatrices())},_createShader:function(){var t=new o(this.context,s.DEFAULT_VERT_SHADER,s.DEFAULT_FRAG_SHADER);return t.log&&console.warn("Shader Log:\n"+t.log),t},updateMatrices:function(){this.shader.setUniformMatrix4("u_projection",this.projection)},_preRender:function(){this.texture&&this.texture.bind()},begin:function(){var t=this.context.gl;a.prototype.begin.call(this),this.updateMatrices(),this.shader.setUniformi("u_texture0",0),t.depthMask(!1)},end:function(){var t=this.context.gl;a.prototype.end.call(this),t.depthMask(!0)},flush:function(){this.texture&&0!==this.idx&&(a.prototype.flush.call(this),s.totalRenderCalls++)},drawRegion:function(t,n,e,r,i){this.draw(t.texture,n,e,r,i,t.u,t.v,t.u2,t.v2)},draw:function(t,n,e,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,l=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,d=arguments.length>13&&void 0!==arguments[13]?arguments[13]:1;if(!this.drawing)throw"Illegal State: trying to draw a batch before begin()";if(t){null===this.texture||this.texture.id!==t.id?(this.flush(),this.texture=t):this.idx==this.vertices.length&&this.flush(),n=n||0,e=e||0;var p=-o,_=(r=0===r?r:r||t.width)-o,v=r-o,g=-o,m=-a,y=-a,b=(i=0===i?i:i||t.height)-a,w=i-a,A=this.color;if(1!==s&&(p*=s,_*=s,v*=s,g*=s),1!==c&&(m*=c,y*=c,b*=c,w*=c),0!==u){var M=Math.cos(u),x=Math.sin(u),T=M*p-x*m,E=x*p+M*m,I=M*_-x*y,S=x*_+M*y,R=M*v-x*b,P=x*v+M*b,L=M*g-x*w,U=x*g+M*w;p=T,_=I,v=R,g=L,m=E,y=S,b=P,w=U}p+=n+o,_+=n+o,v+=n+o,g+=n+o,m+=e+a,y+=e+a,b+=e+a,w+=e+a,this.vertices[this.idx++]=p,this.vertices[this.idx++]=m,this.vertices[this.idx++]=A,this.vertices[this.idx++]=f,this.vertices[this.idx++]=h,this.vertices[this.idx++]=_,this.vertices[this.idx++]=y,this.vertices[this.idx++]=A,this.vertices[this.idx++]=l,this.vertices[this.idx++]=h,this.vertices[this.idx++]=v,this.vertices[this.idx++]=b,this.vertices[this.idx++]=A,this.vertices[this.idx++]=l,this.vertices[this.idx++]=d,this.vertices[this.idx++]=g,this.vertices[this.idx++]=w,this.vertices[this.idx++]=A,this.vertices[this.idx++]=f,this.vertices[this.idx++]=d}},drawVertices:function(t,n,e){if(!this.drawing)throw"Illegal State: trying to draw a batch before begin()";t&&(this.texture!=t?(this.flush(),this.texture=t):this.idx==this.vertices.length&&this.flush(),e=e||0,this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++],this.vertices[this.idx++]=n[e++])}});s.VERTEX_SIZE=5,s.totalRenderCalls=0,s.DEFAULT_FRAG_SHADER=["precision mediump float;","varying vec2 vTexCoord0;","varying vec4 vColor;","uniform sampler2D u_texture0;","void main(void) {","   gl_FragColor = texture2D(u_texture0, vTexCoord0) * vColor;","}"].join("\n"),s.DEFAULT_VERT_SHADER=["attribute vec4 "+o.POSITION_ATTRIBUTE+";","attribute vec4 "+o.COLOR_ATTRIBUTE+";","attribute vec2 "+o.TEXCOORD_ATTRIBUTE+"0;","uniform mat4 u_projection;","varying vec2 vTexCoord0;","varying vec4 vColor;","void main(void) {","   gl_Position =  u_projection * "+o.POSITION_ATTRIBUTE+";","   vTexCoord0 = "+o.TEXCOORD_ATTRIBUTE+"0;","   vColor = "+o.COLOR_ATTRIBUTE+";","   vColor.a = vColor.a * (256.0/255.0);","}"].join("\n"),t.exports=s},function(t,n,e){var r={EventEmitter:e(37),EmitterSubscription:e(13)};t.exports=r},function(t,n,e){(function(e){var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var n=this||o;if(t=parseFloat(t),n.ctx||d(),"undefined"!==typeof t&&t>=0&&t<=1){if(n._volume=t,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var e=0;e<n._howls.length;e++)if(!n._howls[e]._webAudio)for(var r=n._howls[e]._getSoundIds(),i=0;i<r.length;i++){var a=n._howls[e]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*t)}return n}return n._volume},mute:function(t){var n=this||o;n.ctx||d(),n._muted=t,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t?0:n._volume,o.ctx.currentTime);for(var e=0;e<n._howls.length;e++)if(!n._howls[e]._webAudio)for(var r=n._howls[e]._getSoundIds(),i=0;i<r.length;i++){var a=n._howls[e]._soundById(r[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return n},stop:function(){for(var t=this||o,n=0;n<t._howls.length;n++)t._howls[n].stop();return t},unload:function(){for(var t=this||o,n=t._howls.length-1;n>=0;n--)t._howls[n].unload();return t.usingWebAudio&&t.ctx&&"undefined"!==typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,d()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(n){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(n){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,n=null;try{n="undefined"!==typeof Audio?new Audio:null}catch(a){return t}if(!n||"function"!==typeof n.canPlayType)return t;var e=n.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!e&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!e,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function n(e){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(e){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var u=t._howls[i]._soundById(o[a]);u&&u._node&&!u._node._unlocked&&(u._node._unlocked=!0,u._node.load())}t._autoResume();var s=t.ctx.createBufferSource();s.buffer=t._scratchBuffer,s.connect(t.ctx.destination),"undefined"===typeof s.start?s.noteOn(0):s.start(0),"function"===typeof t.ctx.resume&&t.ctx.resume(),s.onended=function(){s.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0);for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var n=(new Audio).play();return n&&"undefined"!==typeof Promise&&(n instanceof Promise||"function"===typeof n.then)&&n.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var n=this||o;return t._unlocked&&n._html5AudioPool.push(t),n},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!==typeof t.ctx.suspend&&o.usingWebAudio){for(var n=0;n<t._howls.length;n++)if(t._howls[n]._webAudio)for(var e=0;e<t._howls[n]._sounds.length;e++)if(!t._howls[n]._sounds[e]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var n=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(n,n)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!==typeof t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var n=this;return o.ctx||d(),n._autoplay=t.autoplay||!1,n._format="string"!==typeof t.format?t.format:[t.format],n._html5=t.html5||!1,n._muted=t.mute||!1,n._loop=t.loop||!1,n._pool=t.pool||5,n._preload="boolean"!==typeof t.preload&&"metadata"!==t.preload||t.preload,n._rate=t.rate||1,n._sprite=t.sprite||{},n._src="string"!==typeof t.src?t.src:[t.src],n._volume=void 0!==t.volume?t.volume:1,n._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=t.onend?[{fn:t.onend}]:[],n._onfade=t.onfade?[{fn:t.onfade}]:[],n._onload=t.onload?[{fn:t.onload}]:[],n._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],n._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],n._onpause=t.onpause?[{fn:t.onpause}]:[],n._onplay=t.onplay?[{fn:t.onplay}]:[],n._onstop=t.onstop?[{fn:t.onstop}]:[],n._onmute=t.onmute?[{fn:t.onmute}]:[],n._onvolume=t.onvolume?[{fn:t.onvolume}]:[],n._onrate=t.onrate?[{fn:t.onrate}]:[],n._onseek=t.onseek?[{fn:t.onseek}]:[],n._onunlock=t.onunlock?[{fn:t.onunlock}]:[],n._onresume=[],n._webAudio=o.usingWebAudio&&!n._html5,"undefined"!==typeof o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&"none"!==n._preload&&n.load(),n},load:function(){var t=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"===typeof this._src&&(this._src=[this._src]);for(var n=0;n<this._src.length;n++){var e,r;if(this._format&&this._format[n])e=this._format[n];else{if("string"!==typeof(r=this._src[n])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(r))||(e=/\.([^.]+)$/.exec(r.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&o.codecs(e)){t=this._src[n];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new u(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var e=this,r=null;if("number"===typeof t)r=t,t=null;else{if("string"===typeof t&&"loaded"===e._state&&!e._sprite[t])return null;if("undefined"===typeof t&&(t="__default",!e._playLock)){for(var i=0,a=0;a<e._sounds.length;a++)e._sounds[a]._paused&&!e._sounds[a]._ended&&(i++,r=e._sounds[a]._id);1===i?t=null:r=null}}var u=r?e._soundById(r):e._inactiveSound();if(!u)return null;if(r&&!t&&(t=u._sprite||"__default"),"loaded"!==e._state){u._sprite=t,u._ended=!1;var s=u._id;return e._queue.push({event:"play",action:function(){e.play(s)}}),s}if(r&&!u._paused)return n||e._loadQueue("play"),u._id;e._webAudio&&o._autoResume();var c=Math.max(0,u._seek>0?u._seek:e._sprite[t][0]/1e3),f=Math.max(0,(e._sprite[t][0]+e._sprite[t][1])/1e3-c),h=1e3*f/Math.abs(u._rate),l=e._sprite[t][0]/1e3,d=(e._sprite[t][0]+e._sprite[t][1])/1e3;u._sprite=t,u._ended=!1;var p=function(){u._paused=!1,u._seek=c,u._start=l,u._stop=d,u._loop=!(!u._loop&&!e._sprite[t][2])};if(!(c>=d)){var _=u._node;if(e._webAudio){var v=function(){e._playLock=!1,p(),e._refreshBuffer(u);var t=u._muted||e._muted?0:u._volume;_.gain.setValueAtTime(t,o.ctx.currentTime),u._playStart=o.ctx.currentTime,"undefined"===typeof _.bufferSource.start?u._loop?_.bufferSource.noteGrainOn(0,c,86400):_.bufferSource.noteGrainOn(0,c,f):u._loop?_.bufferSource.start(0,c,86400):_.bufferSource.start(0,c,f),h!==1/0&&(e._endTimers[u._id]=setTimeout(e._ended.bind(e,u),h)),n||setTimeout((function(){e._emit("play",u._id),e._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?v():(e._playLock=!0,e.once("resume",v),e._clearTimer(u._id))}else{var g=function(){_.currentTime=c,_.muted=u._muted||e._muted||o._muted||_.muted,_.volume=u._volume*o.volume(),_.playbackRate=u._rate;try{var r=_.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(e._playLock=!0,p(),r.then((function(){e._playLock=!1,_._unlocked=!0,n||(e._emit("play",u._id),e._loadQueue())})).catch((function(){e._playLock=!1,e._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),u._ended=!0,u._paused=!0}))):n||(e._playLock=!1,p(),e._emit("play",u._id),e._loadQueue()),_.playbackRate=u._rate,_.paused)return void e._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||u._loop?e._endTimers[u._id]=setTimeout(e._ended.bind(e,u),h):(e._endTimers[u._id]=function(){e._ended(u),_.removeEventListener("ended",e._endTimers[u._id],!1)},_.addEventListener("ended",e._endTimers[u._id],!1))}catch(i){e._emit("playerror",u._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===_.src&&(_.src=e._src,_.load());var m=window&&window.ejecta||!_.readyState&&o._navigator.isCocoonJS;if(_.readyState>=3||m)g();else{e._playLock=!0;_.addEventListener(o._canPlayEvent,(function t(){g(),_.removeEventListener(o._canPlayEvent,t,!1)}),!1),e._clearTimer(u._id)}}return u._id}e._ended(u)},pause:function(t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(t)}}),n;for(var e=n._getSoundIds(t),r=0;r<e.length;r++){n._clearTimer(e[r]);var i=n._soundById(e[r]);if(i&&!i._paused&&(i._seek=n.seek(e[r]),i._rateSeek=0,i._paused=!0,n._stopFade(e[r]),i._node))if(n._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||n._emit("pause",i?i._id:null)}return n},stop:function(t,n){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"stop",action:function(){e.stop(t)}}),e;for(var r=e._getSoundIds(t),i=0;i<r.length;i++){e._clearTimer(r[i]);var o=e._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,e._stopFade(r[i]),o._node&&(e._webAudio?o._node.bufferSource&&("undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&e._clearSound(o._node))),n||e._emit("stop",o._id))}return e},mute:function(t,n){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"mute",action:function(){e.mute(t,n)}}),e;if("undefined"===typeof n){if("boolean"!==typeof t)return e._muted;e._muted=t}for(var r=e._getSoundIds(n),i=0;i<r.length;i++){var a=e._soundById(r[i]);a&&(a._muted=t,a._interval&&e._stopFade(a._id),e._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),e._emit("mute",a._id))}return e},volume:function(){var t,n,e,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]){var a=r._getSoundIds(),u=a.indexOf(i[0]);u>=0?n=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),n=parseInt(i[1],10));if(!("undefined"!==typeof t&&t>=0&&t<=1))return(e=n?r._soundById(n):r._sounds[0])?e._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof n&&(r._volume=t),n=r._getSoundIds(n);for(var s=0;s<n.length;s++)(e=r._soundById(n[s]))&&(e._volume=t,i[2]||r._stopFade(n[s]),r._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(t,o.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=t*o.volume()),r._emit("volume",e._id));return r},fade:function(t,n,e,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,n,e,r)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),n=Math.min(Math.max(0,parseFloat(n)),1),e=parseFloat(e),i.volume(t,r);for(var a=i._getSoundIds(r),u=0;u<a.length;u++){var s=i._soundById(a[u]);if(s){if(r||i._stopFade(a[u]),i._webAudio&&!s._muted){var c=o.ctx.currentTime,f=c+e/1e3;s._volume=t,s._node.gain.setValueAtTime(t,c),s._node.gain.linearRampToValueAtTime(n,f)}i._startFadeInterval(s,t,n,e,a[u],"undefined"===typeof r)}}return i},_startFadeInterval:function(t,n,e,r,i,o){var a=this,u=n,s=e-n,c=Math.abs(s/.01),f=Math.max(4,c>0?r/c:r),h=Date.now();t._fadeTo=e,t._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),u+=s*i,u=s<0?Math.max(e,u):Math.min(e,u),u=Math.round(100*u)/100,a._webAudio?t._volume=u:a.volume(u,t._id,!0),o&&(a._volume=u),(e<n&&u<=e||e>n&&u>=e)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(e,t._id),a._emit("fade",t._id))}),f)},_stopFade:function(t){var n=this._soundById(t);return n&&n._interval&&(this._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,this.volume(n._fadeTo,t),n._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,n,e,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(e=r._soundById(parseInt(i[0],10)))&&e._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],n=parseInt(i[1],10));for(var o=r._getSoundIds(n),a=0;a<o.length;a++)(e=r._soundById(o[a]))&&(e._loop=t,r._webAudio&&e._node&&e._node.bufferSource&&(e._node.bufferSource.loop=t,t&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop)));return r},rate:function(){var t,n,e,r=this,i=arguments;if(0===i.length)n=r._sounds[0]._id;else if(1===i.length){var a=r._getSoundIds(),u=a.indexOf(i[0]);u>=0?n=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),n=parseInt(i[1],10));if("number"!==typeof t)return(e=r._soundById(n))?e._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof n&&(r._rate=t),n=r._getSoundIds(n);for(var s=0;s<n.length;s++)if(e=r._soundById(n[s])){r.playing(n[s])&&(e._rateSeek=r.seek(n[s]),e._playStart=r._webAudio?o.ctx.currentTime:e._playStart),e._rate=t,r._webAudio&&e._node&&e._node.bufferSource?e._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):e._node&&(e._node.playbackRate=t);var c=r.seek(n[s]),f=(r._sprite[e._sprite][0]+r._sprite[e._sprite][1])/1e3-c,h=1e3*f/Math.abs(e._rate);!r._endTimers[n[s]]&&e._paused||(r._clearTimer(n[s]),r._endTimers[n[s]]=setTimeout(r._ended.bind(r,e),h)),r._emit("rate",e._id)}return r},seek:function(){var t,n,e=this,r=arguments;if(0===r.length)n=e._sounds[0]._id;else if(1===r.length){var i=e._getSoundIds(),a=i.indexOf(r[0]);a>=0?n=parseInt(r[0],10):e._sounds.length&&(n=e._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),n=parseInt(r[1],10));if("undefined"===typeof n)return e;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"seek",action:function(){e.seek.apply(e,r)}}),e;var u=e._soundById(n);if(u){if(!("number"===typeof t&&t>=0)){if(e._webAudio){var s=e.playing(n)?o.ctx.currentTime-u._playStart:0,c=u._rateSeek?u._rateSeek-u._seek:0;return u._seek+(c+s*Math.abs(u._rate))}return u._node.currentTime}var f=e.playing(n);f&&e.pause(n,!0),u._seek=t,u._ended=!1,e._clearTimer(n),e._webAudio||!u._node||isNaN(u._node.duration)||(u._node.currentTime=t);var h=function(){e._emit("seek",n),f&&e.play(n,!0)};if(f&&!e._webAudio){var l=function t(){e._playLock?setTimeout(t,0):h()};setTimeout(l,0)}else h()}return e},playing:function(t){if("number"===typeof t){var n=this._soundById(t);return!!n&&!n._paused}for(var e=0;e<this._sounds.length;e++)if(!this._sounds[e]._paused)return!0;return!1},duration:function(t){var n=this._duration,e=this._soundById(t);return e&&(n=this._sprite[e._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,n=t._sounds,e=0;e<n.length;e++)n[e]._paused||t.stop(n[e]._id),t._webAudio||(t._clearSound(n[e]._node),n[e]._node.removeEventListener("error",n[e]._errorFn,!1),n[e]._node.removeEventListener(o._canPlayEvent,n[e]._loadFn,!1),o._releaseHtml5Audio(n[e]._node)),delete n[e]._node,t._clearTimer(n[e]._id);var r=o._howls.indexOf(t);r>=0&&o._howls.splice(r,1);var i=!0;for(e=0;e<o._howls.length;e++)if(o._howls[e]._src===t._src||t._src.indexOf(o._howls[e]._src)>=0){i=!1;break}return s&&i&&delete s[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,n,e,r){var i=this["_on"+t];return"function"===typeof n&&i.push(r?{id:e,fn:n,once:r}:{id:e,fn:n}),this},off:function(t,n,e){var r=this["_on"+t],i=0;if("number"===typeof n&&(e=n,n=null),n||e)for(i=0;i<r.length;i++){var o=e===r[i].id;if(n===r[i].fn&&o||!n&&o){r.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var a=Object.keys(this);for(i=0;i<a.length;i++)0===a[i].indexOf("_on")&&Array.isArray(this[a[i]])&&(this[a[i]]=[])}return this},once:function(t,n,e){return this.on(t,n,e,1),this},_emit:function(t,n,e){for(var r=this["_on"+t],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==n&&"load"!==t||(setTimeout(function(t){t.call(this,n,e)}.bind(this,r[i].fn),0),r[i].once&&this.off(t,r[i].fn,r[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var n=this._queue[0];n.event===t&&(this._queue.shift(),this._loadQueue()),t||n.action()}return this},_ended:function(t){var n=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var e=!(!t._loop&&!this._sprite[n][2]);if(this._emit("end",t._id),!this._webAudio&&e&&this.stop(t._id,!0).play(t._id),this._webAudio&&e){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!e&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),o._autoSuspend()),this._webAudio||e||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!==typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var n=this._soundById(t);n&&n._node&&n._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var n=0;n<this._sounds.length;n++)if(t===this._sounds[n]._id)return this._sounds[n];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new u(this)},_drain:function(){var t=this._pool,n=0,e=0;if(!(this._sounds.length<t)){for(e=0;e<this._sounds.length;e++)this._sounds[e]._ended&&n++;for(e=this._sounds.length-1;e>=0;e--){if(n<=t)return;this._sounds[e]._ended&&(this._webAudio&&this._sounds[e]._node&&this._sounds[e]._node.disconnect(0),this._sounds.splice(e,1),n--)}}},_getSoundIds:function(t){if("undefined"===typeof t){for(var n=[],e=0;e<this._sounds.length;e++)n.push(this._sounds[e]._id);return n}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=s[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var n=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),n))try{t.bufferSource.buffer=o._scratchBuffer}catch(e){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(t){this._parent=t,this.init()};u.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,n=o._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(n,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=n*o.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)}};var s={},c=function(t){var n=t._src;if(s[n])return t._duration=s[n].duration,void l(t);if(/^data:[^;]+;base64,/.test(n)){for(var e=atob(n.split(",")[1]),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);h(r.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,n,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(n){o.setRequestHeader(n,t._xhr.headers[n])})),o.onload=function(){var n=(o.status+"")[0];"0"===n||"2"===n||"3"===n?h(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[n],t.load())},f(o)}},f=function(t){try{t.send()}catch(n){t.onerror()}},h=function(t,n){var e=function(){n._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&n._sounds.length>0?(s[n._src]=t,l(n,t)):e()};"undefined"!==typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(r).catch(e):o.ctx.decodeAudioData(t,r,e)},l=function(t,n){n&&!t._duration&&(t._duration=n.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},d=function(){if(o.usingWebAudio){try{"undefined"!==typeof AudioContext?o.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),n=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=n?parseInt(n[1],10):null;if(t&&e&&e<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:a}}.apply(n,[]))||(t.exports=r),n.Howler=o,n.Howl=a,"undefined"!==typeof e?(e.HowlerGlobal=i,e.Howler=o,e.Howl=a,e.Sound=u):"undefined"!==typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=u)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var n=this._howls.length-1;n>=0;n--)this._howls[n].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,n,e){return this.ctx&&this.ctx.listener?(n="number"!==typeof n?this._pos[1]:n,e="number"!==typeof e?this._pos[2]:e,"number"!==typeof t?this._pos:(this._pos=[t,n,e],"undefined"!==typeof this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,n,e,r,i,o){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return n="number"!==typeof n?a[1]:n,e="number"!==typeof e?a[2]:e,r="number"!==typeof r?a[3]:r,i="number"!==typeof i?a[4]:i,o="number"!==typeof o?a[5]:o,"number"!==typeof t?a:(this._orientation=[t,n,e,r,i,o],"undefined"!==typeof this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,n,e,r,i,o),this)},Howl.prototype.init=(t=Howl.prototype.init,function(n){return this._orientation=n.orientation||[1,0,0],this._stereo=n.stereo||null,this._pos=n.pos||null,this._pannerAttr={coneInnerAngle:"undefined"!==typeof n.coneInnerAngle?n.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof n.coneOuterAngle?n.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof n.coneOuterGain?n.coneOuterGain:0,distanceModel:"undefined"!==typeof n.distanceModel?n.distanceModel:"inverse",maxDistance:"undefined"!==typeof n.maxDistance?n.maxDistance:1e4,panningModel:"undefined"!==typeof n.panningModel?n.panningModel:"HRTF",refDistance:"undefined"!==typeof n.refDistance?n.refDistance:1,rolloffFactor:"undefined"!==typeof n.rolloffFactor?n.rolloffFactor:1},this._onstereo=n.onstereo?[{fn:n.onstereo}]:[],this._onpos=n.onpos?[{fn:n.onpos}]:[],this._onorientation=n.onorientation?[{fn:n.onorientation}]:[],t.call(this,n)}),Howl.prototype.stereo=function(t,e){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,e)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof e){if("number"!==typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var o=r._getSoundIds(e),a=0;a<o.length;a++){var u=r._soundById(o[a]);if(u){if("number"!==typeof t)return u._stereo;u._stereo=t,u._pos=[t,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",u._panner&&u._panner.pan||n(u,i),"spatial"===i?"undefined"!==typeof u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(t,0,0):u._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",u._id)}}return r},Howl.prototype.pos=function(t,e,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,e,r,i)}}),o;if(e="number"!==typeof e?0:e,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof t)return o._pos;o._pos=[t,e,r]}for(var a=o._getSoundIds(i),u=0;u<a.length;u++){var s=o._soundById(a[u]);if(s){if("number"!==typeof t)return s._pos;s._pos=[t,e,r],s._node&&(s._panner&&!s._panner.pan||n(s,"spatial"),"undefined"!==typeof s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):s._panner.setPosition(t,e,r)),o._emit("pos",s._id)}}return o},Howl.prototype.orientation=function(t,e,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,e,r,i)}}),o;if(e="number"!==typeof e?o._orientation[1]:e,r="number"!==typeof r?o._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof t)return o._orientation;o._orientation=[t,e,r]}for(var a=o._getSoundIds(i),u=0;u<a.length;u++){var s=o._soundById(a[u]);if(s){if("number"!==typeof t)return s._orientation;s._orientation=[t,e,r],s._node&&(s._panner||(s._pos||(s._pos=o._pos||[0,0,-.5]),n(s,"spatial")),"undefined"!==typeof s._panner.orientationX?(s._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):s._panner.setOrientation(t,e,r)),o._emit("orientation",s._id)}}return o},Howl.prototype.pannerAttr=function(){var t,e,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!==typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;t=o[0],"undefined"===typeof e&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var a=i._getSoundIds(e),u=0;u<a.length;u++)if(r=i._soundById(a[u])){var s=r._pannerAttr;s={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:s.maxDistance,refDistance:"undefined"!==typeof t.refDistance?t.refDistance:s.refDistance,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:s.rolloffFactor,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:s.panningModel};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor,c.panningModel=s.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),n(r,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var n=this._parent;this._orientation=n._orientation,this._stereo=n._stereo,this._pos=n._pos,this._pannerAttr=n._pannerAttr,t.call(this),this._stereo?n.stereo(this._stereo):this._pos&&n.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var n=this._parent;return this._orientation=n._orientation,this._stereo=n._stereo,this._pos=n._pos,this._pannerAttr=n._pannerAttr,this._stereo?n.stereo(this._stereo):this._pos?n.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,n._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var n=function(t,n){"spatial"===(n=n||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,"undefined"!==typeof t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),"undefined"!==typeof t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,e(11))},,,,,,,,,,function(t,n,e){var r=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(E){u=function(t,n,e){return t[n]=e}}function s(t,n,e,r){var i=n&&n.prototype instanceof h?n:h,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(t,n,e){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var u=b(a,e);if(u){if(u===f)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var s=c(t,n,e);if("normal"===s.type){if(r=e.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r="completed",e.method="throw",e.arg=s.arg)}}}(t,e,a),o}function c(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(E){return{type:"throw",arg:E}}}t.wrap=s;var f={};function h(){}function l(){}function d(){}var p={};p[i]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(x([])));v&&v!==n&&e.call(v,i)&&(p=v);var g=d.prototype=h.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function y(t,n){var r;this._invoke=function(i,o){function a(){return new n((function(r,a){!function r(i,o,a,u){var s=c(t[i],t,o);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===typeof h&&e.call(h,"__await")?n.resolve(h.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(h).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function A(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(e.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return l.prototype=g.constructor=d,d.constructor=l,l.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===l||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(n,e,r,i,o){void 0===o&&(o=Promise);var a=new y(s(n,e,r,i),o);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),u(g,a,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e,r){return a.type="throw",a.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=e.call(o,"catchLoc"),s=e.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),A(e),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;A(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:x(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},,function(t,n,e){var r=new(e(4))({initialize:function(t){this.gl=t},addManagedObject:function(t){},removeManagedObject:function(t){},width:{get:function(){return this.gl.canvas.width},set:function(t){this.gl.canvas.width=t}},height:{get:function(){return this.gl.canvas.height},set:function(t){this.gl.canvas.height=t}}});t.exports=r},function(t,n,e){var r=e(4),i=e(33),o=e(8).wrapContext,a=new r({initialize:function(t,n,e,r){if(!n||!e)throw"vertex and fragment shaders must be defined";if(!t||"object"!==typeof t)throw"valid GL context not specified to ShaderProgram";this.context=o(t),this.vertShader=null,this.fragShader=null,this.program=null,this.log="",this.uniformCache=null,this.attributeCache=null,this.attributeLocations=r,this.vertSource=n.trim(),this.fragSource=e.trim(),this.context.addManagedObject(this),this.create()},create:function(){this.gl=this.context.gl,this._compileShaders()},_compileShaders:function(){var t=this.gl,n=i({gl:t,vertex:this.vertSource,fragment:this.fragSource,verbose:a.VERBOSE_COMPILE,attributeLocations:this.attributeLocations});this.log=n.log,this.program=n.program,this.vertShader=n.vertex,this.fragShader=n.fragment,a.VERBOSE_COMPILE&&this.log&&console.warn(this.log),this._fetchUniforms(),this._fetchAttributes()},_fetchUniforms:function(){var t=this.gl;this.uniformCache={};var n=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);if(n)for(var e=0;e<n;e++){var r=t.getActiveUniform(this.program,e);if(null!==r){var i=r.name,o=t.getUniformLocation(this.program,i);this.uniformCache[i]={size:r.size,type:r.type,location:o}}}},_fetchAttributes:function(){var t=this.gl;this.attributeCache={};var n=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);if(n)for(var e=0;e<n;e++){var r=t.getActiveAttrib(this.program,e);if(null!==r){var i=r.name,o=t.getAttribLocation(this.program,i);this.attributeCache[i]={size:r.size,type:r.type,location:o}}}},bind:function(){this.gl.useProgram(this.program)},destroy:function(){if(this.context&&this.context.removeManagedObject(this),this.gl&&this.program){var t=this.gl;t.detachShader(this.program,this.vertShader),t.detachShader(this.program,this.fragShader),t.deleteShader(this.vertShader),t.deleteShader(this.fragShader),t.deleteProgram(this.program)}this.attributeCache=null,this.uniformCache=null,this.vertShader=null,this.fragShader=null,this.program=null,this.gl=null,this.context=null},getUniformInfo:function(t){return this.uniformCache[t]||null},getAttributeInfo:function(t){return this.attributeCache[t]||null},getAttributeLocation:function(t){var n=this.getAttributeInfo(t);return n?n.location:null},getUniformLocation:function(t){var n=this.getUniformInfo(t);return n?n.location:null},hasUniform:function(t){return null!==this.getUniformInfo(t)},hasAttribute:function(t){return null!==this.getAttributeInfo(t)},getUniform:function(t){return this.gl.getUniform(this.program,this.getUniformLocation(t))},getUniformAt:function(t){return this.gl.getUniform(this.program,t)},setUniformi:function(t,n,e,r,i){"use strict";var o=this.gl,a=this.getUniformLocation(t);if(null===a)return!1;switch(arguments.length){case 2:return o.uniform1i(a,n),!0;case 3:return o.uniform2i(a,n,e),!0;case 4:return o.uniform3i(a,n,e,r),!0;case 5:return o.uniform4i(a,n,e,r,i),!0;default:throw"invalid arguments to setUniformi"}},setUniformf:function(t,n,e,r,i){"use strict";var o=this.gl,a=this.getUniformLocation(t);if(null===a)return!1;switch(arguments.length){case 2:return o.uniform1f(a,n),!0;case 3:return o.uniform2f(a,n,e),!0;case 4:return o.uniform3f(a,n,e,r),!0;case 5:return o.uniform4f(a,n,e,r,i),!0;default:throw"invalid arguments to setUniformf"}},setUniformfv:function(t,n,e){"use strict";e=e||n.length;var r=this.gl,i=this.getUniformLocation(t);if(null===i)return!1;switch(e){case 1:return r.uniform1fv(i,n),!0;case 2:return r.uniform2fv(i,n),!0;case 3:return r.uniform3fv(i,n),!0;case 4:return r.uniform4fv(i,n),!0;default:throw"invalid arguments to setUniformf"}},setUniformiv:function(t,n,e){"use strict";e=e||n.length;var r=this.gl,i=this.getUniformLocation(t);if(null===i)return!1;switch(e){case 1:return r.uniform1iv(i,n),!0;case 2:return r.uniform2iv(i,n),!0;case 3:return r.uniform3iv(i,n),!0;case 4:return r.uniform4iv(i,n),!0;default:throw"invalid arguments to setUniformf"}},setUniformMatrix3:function(t,n,e){"use strict";var r="object"===typeof n&&n.val?n.val:n;e=!!e;var i=this.gl,o=this.getUniformLocation(t);if(null===o)return!1;i.uniformMatrix3fv(o,e,r)},setUniformMatrix4:function(t,n,e){"use strict";var r="object"===typeof n&&n.val?n.val:n;e=!!e;var i=this.gl,o=this.getUniformLocation(t);if(null===o)return!1;i.uniformMatrix4fv(o,e,r)}});a.POSITION_ATTRIBUTE="Position",a.NORMAL_ATTRIBUTE="Normal",a.COLOR_ATTRIBUTE="Color",a.TEXCOORD_ATTRIBUTE="TexCoord",a.VERBOSE_COMPILE=!0,t.exports=a},function(t,n,e){var r=e(34);function i(t,n,e,r){var i=t.createShader(n);if(!i)return-1;t.shaderSource(i,e),t.compileShader(i);var a=n===t.VERTEX_SHADER?"vertex":"fragment",u=t.getShaderInfoLog(i)||"";if(!t.getShaderParameter(i,t.COMPILE_STATUS))throw r&&(console.error("Shader error:\n"+u),console.error("Problematic "+a+" shader:\n"+o(e))),new Error("Could not compile "+a+" shader:\n"+u);if(!i)throw new Error("gl.createShader returned 0 for "+a+" shader.\n"+u);return{shader:i,log:u}}function o(t){for(var n=t.split("\n"),e=0;e<n.length;e++)n[e]=e+1+": "+n[e];return n.join("\n")}t.exports=function(t){if(!t||!t.vertex||!t.fragment)throw"must specify 'vertex' and 'fragment' source";var n=t.vertex.trim(),e=t.fragment.trim(),a=t.gl;if(!a&&!(a=r()))throw new Error("WebGL not supported -- try another browser");return function(t,n,e,r,a){var u="",s=i(t,t.VERTEX_SHADER,n,a),c=i(t,t.FRAGMENT_SHADER,e,a),f=s.shader,h=c.shader;u+=s.log+"\n"+c.log;var l=t.createProgram();if(t.attachShader(l,f),t.attachShader(l,h),r)for(var d in r)r.hasOwnProperty(d)&&t.bindAttribLocation(l,Math.floor(r[d]),d);if(t.linkProgram(l),u+=t.getProgramInfoLog(l)||"",!t.getProgramParameter(l,t.LINK_STATUS))throw a&&(console.error("Shader error:\n"+u),console.error("Problematic shaders:\nVERTEX_SHADER:\n"+o(n)+"\n\nFRAGMENT_SHADER:\n"+o(e))),t.detachShader(l,f),t.detachShader(l,h),t.deleteShader(f),t.deleteShader(h),new Error("Error linking the shader program:\n"+u);return{program:l,vertex:f,fragment:h,log:u.trim()}}(a,n,e,t.attributeLocations,t.verbose)}},function(t,n){t.exports=function(t){var n=(t=t||{}).canvas||document.createElement("canvas");"number"===typeof t.width&&(n.width=t.width),"number"===typeof t.height&&(n.height=t.height);var e=t.attributes||t.attribs||{};try{gl=n.getContext("webgl",e)||n.getContext("experimental-webgl",e)}catch(r){gl=null}return gl}},function(t,n,e){var r=e(4),i=e(12),o=e(8).BaseObject,a=(e(9).colorToFloat,e(36)),u=new r({Mixins:a,initialize:function(t,n){o.call(this,t),n=n||{};var e=this._createShader();this.idx=0,this.mesh=this._createMesh(n.size),a.call(this,this.context.gl,e)},_createMesh:function(t){if((t=t||500)>10922)throw"Can't have more than 10922 sprites per batch: "+t;var n=4*t*this.getVertexSize(),e=6*t,r=this.context.gl;this.vertices=new Float32Array(n),this.indices=new Uint16Array(e);for(var o=0,a=0;o<e;o+=6,a+=4)this.indices[o+0]=a+0,this.indices[o+1]=a+1,this.indices[o+2]=a+2,this.indices[o+3]=a+0,this.indices[o+4]=a+2,this.indices[o+5]=a+3;var u=new i(this.context,!1,n,e,this._createVertexAttributes());return u.vertices=this.vertices,u.indices=this.indices,u.vertexUsage=r.DYNAMIC_DRAW,u.indexUsage=r.STATIC_DRAW,u.dirty=!0,u},_createShader:function(){throw"_createShader not implemented"},_createVertexAttributes:function(){throw"_createVertexAttributes not implemented"},getVertexSize:function(){throw"getVertexSize not implemented"},begin:function(){if(this.drawing)throw"batch.end() must be called before begin";if(this.drawing=!0,this.shader.bind(),this.mesh.bind(this.shader),this._blendingEnabled){var t=this.context.gl;t.enable(t.BLEND)}},end:function(){if(!this.drawing)throw"batch.begin() must be called before end";if(this.idx>0&&this.flush(),this.drawing=!1,this.mesh.unbind(this.shader),this._blendingEnabled){var t=this.context.gl;t.disable(t.BLEND)}},_preRender:function(){},flush:function(){if(0!==this.idx){var t=this.context.gl;this._blendingEnabled&&this._blendSrc&&this._blendDst&&t.blendFunc(this._blendSrc,this._blendDst),this._preRender();var n=this.getVertexSize(),e=this.idx/(4*n);this.mesh.verticesDirty=!0,this.mesh.draw(t.TRIANGLES,6*e,0,this.idx),this.idx=0}},destroy:function(){this.vertices=null,this.indices=null,this.maxVertices=0,this.ownsShader&&this.defaultShader&&this.defaultShader.destroy(),this.defaultShader=null,this._shader=null,this.mesh&&this.mesh.destroy(),this.mesh=null}});t.exports=u},function(t,n,e){var r=e(9).colorToFloat,i=e(4);t.exports=new i({initialize:function(t,n){this._blendSrc=t.ONE,this._blendDst=t.ONE_MINUS_SRC_ALPHA,this._blendingEnabled=!0,this._shader=n,this.defaultShader=this._shader,this.ownsShader=!0,this.drawing=!1,this.color=r(255,255,255,255),this.premultiplied=!0},blendingEnabled:{set:function(t){var n=this._blendingEnabled;if(this.drawing&&this.flush(),this._blendingEnabled=t,this.drawing&&n!=t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND)}},get:function(){return this._blendingEnabled}},blendSrc:{set:function(t){this.drawing&&this.flush(),this._blendSrc=t},get:function(){return this._blendSrc}},blendDst:{set:function(t){this.drawing&&this.flush(),this._blendDst=t},get:function(){return this._blendDst}},setBlendFunction:function(t,n){this.blendSrc=t,this.blendDst=n},shader:{set:function(t){var n=this.drawing;n&&this.end(),this._shader=t||this.defaultShader,n&&this.begin()},get:function(){return this._shader}},setColor:function(t,n,e,i){var o="number"===typeof t;o&&"number"===typeof n&&"number"===typeof e?i="number"===typeof i?i:1:t=n=e=i=o?t:1,this.premultiplied&&(t*=i,n*=i,e*=i),this.color=r(~~(255*t),~~(255*n),~~(255*e),~~(255*i))}})},function(t,n,e){"use strict";var r=e(13),i=e(39),o=e(40),a=e(14),u=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._subscriber=new i,this._currentSubscription=null}return t.prototype.addListener=function(t,n,e){return this._subscriber.addSubscription(t,new r(this._subscriber,n,e))},t.prototype.once=function(t,n,e){var r=this;return this.addListener(t,(function(){r.removeCurrentListener(),n.apply(e,arguments)}))},t.prototype.removeAllListeners=function(t){this._subscriber.removeAllSubscriptions(t)},t.prototype.removeCurrentListener=function(){this._currentSubscription||a(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.prototype.listeners=function(t){var n=this._subscriber.getSubscriptionsForType(t);return n?n.filter(o.thatReturnsTrue).map((function(t){return t.listener})):[]},t.prototype.emit=function(t){var n=this._subscriber.getSubscriptionsForType(t);if(n){for(var e=Object.keys(n),r=0;r<e.length;r++){var i=e[r],o=n[i];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.prototype.__emitToSubscription=function(t,n){var e=Array.prototype.slice.call(arguments,2);t.listener.apply(t.context,e)},t}();t.exports=u},function(t,n,e){"use strict";var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscriber=n}return t.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},t}();t.exports=r},function(t,n,e){"use strict";var r=e(14),i=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._subscriptionsForType={},this._currentSubscription=null}return t.prototype.addSubscription=function(t,n){n.subscriber!==this&&r(!1),this._subscriptionsForType[t]||(this._subscriptionsForType[t]=[]);var e=this._subscriptionsForType[t].length;return this._subscriptionsForType[t].push(n),n.eventType=t,n.key=e,n},t.prototype.removeAllSubscriptions=function(t){void 0===t?this._subscriptionsForType={}:delete this._subscriptionsForType[t]},t.prototype.removeSubscription=function(t){var n=t.eventType,e=t.key,r=this._subscriptionsForType[n];r&&delete r[e]},t.prototype.getSubscriptionsForType=function(t){return this._subscriptionsForType[t]},t}();t.exports=i},function(t,n,e){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,n,e){"use strict";var r=e(16),i=e(44),o=e(49);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");a||c(t);if("number"===typeof arguments[1])return g(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var n=arguments[1],e=f(n)?n:n.raw;if(e)return m(t,e,0|n.width,0|n.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(n.shape&&n.data&&n.stride)return y(t,n)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,u=null,s=null;function c(t){a=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],u=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],s=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function f(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var h=function(t,n){i.muls(t,n,255)};function l(t,n,e){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(n<0||n>i||e<0||e>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[n,e],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,n,e,0,t.format,t.type,null),t._mipLevels=[0],t}function d(t,n,e,r,i,o){this.gl=t,this.handle=n,this.format=i,this.type=o,this._shape=[e,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,u=[this._wrapS,this._wrapT];Object.defineProperties(u,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=u;var s=[this._shape[0],this._shape[1]];Object.defineProperties(s,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=s}var p=d.prototype;function _(t,n){return 3===t.length?1===n[2]&&n[1]===t[0]*t[2]&&n[0]===t[2]:1===n[0]&&n[1]===t[0]}function v(t){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n}function g(t,n,e,r,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(n<0||n>o||e<0||e>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=v(t);return t.texImage2D(t.TEXTURE_2D,0,r,n,e,0,r,i,null),new d(t,a,n,e,r,i)}function m(t,n,e,r,i,o){var a=v(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,n),new d(t,a,e,r,i,o)}function y(t,n){var e=n.dtype,a=n.shape.slice(),u=t.getParameter(t.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>u||a[1]<0||a[1]>u)throw new Error("gl-texture2d: Invalid texture size");var s=_(a,n.stride.slice()),c=0;"float32"===e?c=t.FLOAT:"float64"===e?(c=t.FLOAT,s=!1,e="float32"):"uint8"===e?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,s=!1,e="uint8");var f,l,p=0;if(2===a.length)p=t.LUMINANCE,a=[a[0],a[1],1],n=r(n.data,a,[n.stride[0],n.stride[1],1],n.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])p=t.ALPHA;else if(2===a[2])p=t.LUMINANCE_ALPHA;else if(3===a[2])p=t.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");p=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,s=!1);var g=n.size;if(s)f=0===n.offset&&n.data.length===g?n.data:n.data.subarray(n.offset,n.offset+g);else{var m=[a[2],a[2]*a[0],1];l=o.malloc(g,e);var y=r(l,a,m,0);"float32"!==e&&"float64"!==e||c!==t.UNSIGNED_BYTE?i.assign(y,n):h(y,n),f=l.subarray(0,g)}var b=v(t);return t.texImage2D(t.TEXTURE_2D,0,p,a[0],a[1],0,p,c,f),s||o.free(l),new d(t,b,a[0],a[1],p,c)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var n=this.gl;if(this.type===n.FLOAT&&a.indexOf(t)>=0&&(n.getExtension("OES_texture_float_linear")||(t=n.NEAREST)),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var n=this.gl;if(this.type===n.FLOAT&&a.indexOf(t)>=0&&(n.getExtension("OES_texture_float_linear")||(t=n.NEAREST)),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var n=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),n!==this._anisoSamples){var e=this.gl.getExtension("EXT_texture_filter_anisotropic");e&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var n=0;n<2;++n)if(s.indexOf(t[n])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var e=this.gl;return this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return l(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return l(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,l(this,this._shape[0],t),t}}}),p.bind=function(t){var n=this.gl;return void 0!==t&&n.activeTexture(n.TEXTURE0+(0|t)),n.bindTexture(n.TEXTURE_2D,this.handle),void 0!==t?0|t:n.getParameter(n.ACTIVE_TEXTURE)-n.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),n=0;t>0;++n,t>>>=1)this._mipLevels.indexOf(n)<0&&this._mipLevels.push(n)},p.setPixels=function(t,n,e,a){var u=this.gl;this.bind(),Array.isArray(n)?(a=e,e=0|n[1],n=0|n[0]):(n=n||0,e=e||0),a=a||0;var s=f(t)?t:t.raw;if(s){this._mipLevels.indexOf(a)<0?(u.texImage2D(u.TEXTURE_2D,0,this.format,this.format,this.type,s),this._mipLevels.push(a)):u.texSubImage2D(u.TEXTURE_2D,a,n,e,this.format,this.type,s)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||n+t.shape[1]>this._shape[1]>>>a||e+t.shape[0]>this._shape[0]>>>a||n<0||e<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,n,e,a,u,s,c,f){var l=f.dtype,d=f.shape.slice();if(d.length<2||d.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var p=0,v=0,g=_(d,f.stride.slice());"float32"===l?p=t.FLOAT:"float64"===l?(p=t.FLOAT,g=!1,l="float32"):"uint8"===l?p=t.UNSIGNED_BYTE:(p=t.UNSIGNED_BYTE,g=!1,l="uint8");if(2===d.length)v=t.LUMINANCE,d=[d[0],d[1],1],f=r(f.data,d,[f.stride[0],f.stride[1],1],f.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])v=t.ALPHA;else if(2===d[2])v=t.LUMINANCE_ALPHA;else if(3===d[2])v=t.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=t.RGBA}d[2]}v!==t.LUMINANCE&&v!==t.ALPHA||u!==t.LUMINANCE&&u!==t.ALPHA||(v=u);if(v!==u)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var m=f.size,y=c.indexOf(a)<0;y&&c.push(a);if(p===s&&g)0===f.offset&&f.data.length===m?y?t.texImage2D(t.TEXTURE_2D,a,u,d[0],d[1],0,u,s,f.data):t.texSubImage2D(t.TEXTURE_2D,a,n,e,d[0],d[1],u,s,f.data):y?t.texImage2D(t.TEXTURE_2D,a,u,d[0],d[1],0,u,s,f.data.subarray(f.offset,f.offset+m)):t.texSubImage2D(t.TEXTURE_2D,a,n,e,d[0],d[1],u,s,f.data.subarray(f.offset,f.offset+m));else{var b;b=s===t.FLOAT?o.mallocFloat32(m):o.mallocUint8(m);var w=r(b,d,[d[2],d[2]*d[0],1]);p===t.FLOAT&&s===t.UNSIGNED_BYTE?h(w,f):i.assign(w,f),y?t.texImage2D(t.TEXTURE_2D,a,u,d[0],d[1],0,u,s,b.subarray(0,m)):t.texSubImage2D(t.TEXTURE_2D,a,n,e,d[0],d[1],u,s,b.subarray(0,m)),s===t.FLOAT?o.freeFloat32(b):o.freeUint8(b)}}(u,n,e,a,this.format,this.type,this._mipLevels,t)}}},function(t,n,e){"use strict";t.exports=function(t){for(var n=new Array(t),e=0;e<t;++e)n[e]=e;return n}},function(t,n){function e(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,n,e){"use strict";var r=e(45),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var n=0;n<t.args.length;++n){var e=t.args[n];t.args[n]=0===n?{name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var n=[],e=0;e<t.args.length;++e)n.push("a"+e);return new Function("P",["return function ",t.funcName,"_ndarrayops(",n.join(","),") {P(",n.join(","),");return a0}"].join(""))(function(t){return r({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var e=u[t];n[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),n[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var s={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in s){var e=s[t];n[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),n[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];n[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),n[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),n[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<f.length;++t){var e=f[t];n[e]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),n[e+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];n[e]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),n[e+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),n[e+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var l=["atan2","pow"];!function(){for(var t=0;t<l.length;++t){var e=l[t];n[e+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),n[e+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),n[e+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),n[e+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),n.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,n,e){"use strict";var r=e(46);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(t){var n=new i;n.pre=t.pre,n.body=t.body,n.post=t.post;var e=t.args.slice(0);n.argTypes=e;for(var o=0;o<e.length;++o){var a=e[o];if("array"===a||"object"===typeof a&&a.blockIndices){if(n.argTypes[o]="array",n.arrayArgs.push(o),n.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),n.shimArgs.push("array"+o),o<n.pre.args.length&&n.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<n.post.args.length&&n.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)n.scalarArgs.push(o),n.shimArgs.push("scalar"+o);else if("index"===a){if(n.indexArgs.push(o),o<n.pre.args.length&&n.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<n.body.args.length&&n.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<n.post.args.length&&n.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(n.shapeArgs.push(o),o<n.pre.args.length&&n.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<n.body.args.length&&n.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<n.post.args.length&&n.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+e[o]);n.argTypes[o]="offset",n.offsetArgs.push({array:a.array,offset:a.offset}),n.offsetArgIndex.push(o)}}if(n.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(n.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(n.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(n.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return n.debug=!!t.printCode||!!t.debug,n.funcName=t.funcName||"cwise",n.blockSize=t.blockSize||64,r(n)}},function(t,n,e){"use strict";var r=e(47);t.exports=function(t){var n=["'use strict'","var CACHED={}"],e=[],i=t.funcName+"_cwise_thunk";n.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],u=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],s=[],c=[],f=0;f<t.arrayArgs.length;++f){var h=t.arrayArgs[f];e.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),o.push("t"+h),o.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),u.push("array"+h+".data"),u.push("array"+h+".stride"),u.push("array"+h+".offset|0"),f>0&&(s.push("array"+t.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[f]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[f])+"]"))}for(t.arrayArgs.length>1&&(n.push("if (!("+s.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),n.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),n.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),n.push("}")),f=0;f<t.scalarArgs.length;++f)u.push("scalar"+t.scalarArgs[f]);return e.push(["type=[",a.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),n.push("var "+e.join(",")),n.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",u.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+n.join("\n")+"\n----------"),new Function("compile",n.join("\n"))(r.bind(void 0,t))}},function(t,n,e){"use strict";var r=e(48);function i(t,n,e){var r,i,o=t.length,a=n.arrayArgs.length,u=n.indexArgs.length>0,s=[],c=[],f=0,h=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)h=f,f=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",f].join("")):c.push(["d",i,"s",r,"=(t",i,"p",f,"-s",h,"*t",i,"p",h,")"].join(""));for(c.length>0&&s.push("var "+c.join(",")),r=o-1;r>=0;--r)f=t[r],s.push(["for(i",r,"=0;i",r,"<s",f,";++i",r,"){"].join(""));for(s.push(e),r=0;r<o;++r){for(h=f,f=t[r],i=0;i<a;++i)s.push(["p",i,"+=d",i,"s",r].join(""));u&&(r>0&&s.push(["index[",h,"]-=s",h].join("")),s.push(["++index[",f,"]"].join(""))),s.push("}")}return s.join("\n")}function o(t,n,e){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var u=t.args[a];if(!(u.count<=0)){var s=new RegExp(u.name,"g"),c="",f=n.arrayArgs.indexOf(a);switch(n.argTypes[a]){case"offset":var h=n.offsetArgIndex.indexOf(a);f=n.offsetArgs[h].array,c="+q"+h;case"array":c="p"+f+c;var l="l"+a,d="a"+f;if(0===n.arrayBlockIndices[f])1===u.count?"generic"===e[f]?u.lvalue?(i.push(["var ",l,"=",d,".get(",c,")"].join("")),r=r.replace(s,l),o.push([d,".set(",c,",",l,")"].join(""))):r=r.replace(s,[d,".get(",c,")"].join("")):r=r.replace(s,[d,"[",c,"]"].join("")):"generic"===e[f]?(i.push(["var ",l,"=",d,".get(",c,")"].join("")),r=r.replace(s,l),u.lvalue&&o.push([d,".set(",c,",",l,")"].join(""))):(i.push(["var ",l,"=",d,"[",c,"]"].join("")),r=r.replace(s,l),u.lvalue&&o.push([d,"[",c,"]=",l].join("")));else{for(var p=[u.name],_=[c],v=0;v<Math.abs(n.arrayBlockIndices[f]);v++)p.push("\\s*\\[([^\\]]+)\\]"),_.push("$"+(v+1)+"*t"+f+"b"+v);if(s=new RegExp(p.join(""),"g"),c=_.join("+"),"generic"===e[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(s,[d,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(s,"Y"+n.scalarArgs.indexOf(a));break;case"index":r=r.replace(s,"index");break;case"shape":r=r.replace(s,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(t){for(var n=new Array(t.length),e=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?n[r]="u"+i.charAt(1)+o:n[r]=i.charAt(0)+o,r>0&&(e=e&&n[r]===n[r-1])}return e?n[0]:n.join("")}t.exports=function(t,n){for(var e=n[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),s=new Array(t.arrayArgs.length),c=0;c<t.arrayArgs.length;++c)s[c]=n[2*c],u[c]=n[2*c+1];var f=[],h=[],l=[],d=[],p=[];for(c=0;c<t.arrayArgs.length;++c){t.arrayBlockIndices[c]<0?(l.push(0),d.push(e),f.push(e),h.push(e+t.arrayBlockIndices[c])):(l.push(t.arrayBlockIndices[c]),d.push(t.arrayBlockIndices[c]+e),f.push(0),h.push(t.arrayBlockIndices[c]));for(var _=[],v=0;v<u[c].length;v++)l[c]<=u[c][v]&&u[c][v]<d[c]&&_.push(u[c][v]-l[c]);p.push(_)}var g=["SS"],m=["'use strict'"],y=[];for(v=0;v<e;++v)y.push(["s",v,"=SS[",v,"]"].join(""));for(c=0;c<t.arrayArgs.length;++c){g.push("a"+c),g.push("t"+c),g.push("p"+c);for(v=0;v<e;++v)y.push(["t",c,"p",v,"=t",c,"[",l[c]+v,"]"].join(""));for(v=0;v<Math.abs(t.arrayBlockIndices[c]);++v)y.push(["t",c,"b",v,"=t",c,"[",f[c]+v,"]"].join(""))}for(c=0;c<t.scalarArgs.length;++c)g.push("Y"+c);if(t.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),t.indexArgs.length>0){var b=new Array(e);for(c=0;c<e;++c)b[c]="0";y.push(["index=[",b.join(","),"]"].join(""))}for(c=0;c<t.offsetArgs.length;++c){var w=t.offsetArgs[c],A=[];for(v=0;v<w.offset.length;++v)0!==w.offset[v]&&(1===w.offset[v]?A.push(["t",w.array,"p",v].join("")):A.push([w.offset[v],"*t",w.array,"p",v].join("")));0===A.length?y.push("q"+c+"=0"):y.push(["q",c,"=",A.join("+")].join(""))}var M=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((y=y.concat(M)).length>0&&m.push("var "+y.join(",")),c=0;c<t.arrayArgs.length;++c)m.push("p"+c+"|=0");t.pre.body.length>3&&m.push(o(t.pre,t,s));var x=o(t.body,t,s),T=function(t){for(var n=0,e=t[0].length;n<e;){for(var r=1;r<t.length;++r)if(t[r][n]!==t[0][n])return n;++n}return n}(p);T<e?m.push(function(t,n,e,r){for(var o=n.length,a=e.arrayArgs.length,u=e.blockSize,s=e.indexArgs.length>0,c=[],f=0;f<a;++f)c.push(["var offset",f,"=p",f].join(""));for(f=t;f<o;++f)c.push(["for(var j"+f+"=SS[",n[f],"]|0;j",f,">0;){"].join("")),c.push(["if(j",f,"<",u,"){"].join("")),c.push(["s",n[f],"=j",f].join("")),c.push(["j",f,"=0"].join("")),c.push(["}else{s",n[f],"=",u].join("")),c.push(["j",f,"-=",u,"}"].join("")),s&&c.push(["index[",n[f],"]=j",f].join(""));for(f=0;f<a;++f){for(var h=["offset"+f],l=t;l<o;++l)h.push(["j",l,"*t",f,"p",n[l]].join(""));c.push(["p",f,"=(",h.join("+"),")"].join(""))}for(c.push(i(n,e,r)),f=t;f<o;++f)c.push("}");return c.join("\n")}(T,p[0],t,x)):m.push(i(p[0],t,x)),t.post.body.length>3&&m.push(o(t.post,t,s)),t.debug&&console.log("-----Generated cwise routine for ",n,":\n"+m.join("\n")+"\n----------");var E=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",T,a(s)].join("");return new Function(["function ",E,"(",g.join(","),"){",m.join("\n"),"} return ",E].join(""))()}},function(t,n,e){"use strict";t.exports=function(t,n,e){return 0===t.length?t:n?(e||t.sort(n),function(t,n){for(var e=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,n(i=t[a],o)){if(a===e){e++;continue}t[e++]=i}return t.length=e,t}(t,n)):(e||t.sort(),function(t){for(var n=1,e=t.length,r=t[0],i=t[0],o=1;o<e;++o,i=r)if(i=r,(r=t[o])!==i){if(o===n){n++;continue}t[n++]=r}return t.length=n,t}(t))}},function(t,n,e){"use strict";(function(t){var r=e(50),i=e(51),o=e(52).Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!==typeof Uint8ClampedArray,u="undefined"!==typeof BigUint64Array,s="undefined"!==typeof BigInt64Array,c=t.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var f=c.DATA,h=c.BUFFER;function l(t){if(t){var n=t.length||t.byteLength,e=r.log2(n);f[e].push(t)}}function d(t){t=r.nextPow2(t);var n=r.log2(t),e=f[n];return e.length>0?e.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(d(t),0,t)}function _(t){return new Uint16Array(d(2*t),0,t)}function v(t){return new Uint32Array(d(4*t),0,t)}function g(t){return new Int8Array(d(t),0,t)}function m(t){return new Int16Array(d(2*t),0,t)}function y(t){return new Int32Array(d(4*t),0,t)}function b(t){return new Float32Array(d(4*t),0,t)}function w(t){return new Float64Array(d(8*t),0,t)}function A(t){return a?new Uint8ClampedArray(d(t),0,t):p(t)}function M(t){return u?new BigUint64Array(d(8*t),0,t):null}function x(t){return s?new BigInt64Array(d(8*t),0,t):null}function T(t){return new DataView(d(t),0,t)}function E(t){t=r.nextPow2(t);var n=r.log2(t),e=h[n];return e.length>0?e.pop():new o(t)}n.free=function(t){if(o.isBuffer(t))h[r.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var n=t.length||t.byteLength,e=0|r.log2(n);f[e].push(t)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeBigUint64=n.freeInt8=n.freeInt16=n.freeInt32=n.freeBigInt64=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=function(t){l(t.buffer)},n.freeArrayBuffer=l,n.freeBuffer=function(t){h[r.log2(t.length)].push(t)},n.malloc=function(t,n){if(void 0===n||"arraybuffer"===n)return d(t);switch(n){case"uint8":return p(t);case"uint16":return _(t);case"uint32":return v(t);case"int8":return g(t);case"int16":return m(t);case"int32":return y(t);case"float":case"float32":return b(t);case"double":case"float64":return w(t);case"uint8_clamped":return A(t);case"bigint64":return x(t);case"biguint64":return M(t);case"buffer":return E(t);case"data":case"dataview":return T(t);default:return null}return null},n.mallocArrayBuffer=d,n.mallocUint8=p,n.mallocUint16=_,n.mallocUint32=v,n.mallocInt8=g,n.mallocInt16=m,n.mallocInt32=y,n.mallocFloat32=n.mallocFloat=b,n.mallocFloat64=n.mallocDouble=w,n.mallocUint8Clamped=A,n.mallocBigUint64=M,n.mallocBigInt64=x,n.mallocDataView=T,n.mallocBuffer=E,n.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,f[t].length=0,h[t].length=0}}).call(this,e(11))},function(t,n,e){"use strict";function r(t){var n=32;return(t&=-t)&&n--,65535&t&&(n-=16),16711935&t&&(n-=8),252645135&t&&(n-=4),858993459&t&&(n-=2),1431655765&t&&(n-=1),n}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var n=t>>31;return(t^n)-n},n.min=function(t,n){return n^(t^n)&-(t<n)},n.max=function(t,n){return t^(t^n)&-(t<n)},n.isPow2=function(t){return!(t&t-1)&&!!t},n.log2=function(t){var n,e;return n=(t>65535)<<4,n|=e=((t>>>=n)>255)<<3,n|=e=((t>>>=e)>15)<<2,(n|=e=((t>>>=e)>3)<<1)|(t>>>=e)>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var n=0;n<256;++n){var e=n,r=n,i=7;for(e>>>=1;e;e>>>=1)r<<=1,r|=1&e,--i;t[n]=r<<i&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},n.deinterleave2=function(t,n){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>n&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},n.interleave3=function(t,n,e){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<2},n.deinterleave3=function(t,n){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>n&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},n.nextCombination=function(t){var n=t|t-1;return n+1|(~n&-~n)-1>>>r(t)+1}},function(t,n,e){"use strict";t.exports=function(t,n){switch("undefined"===typeof n&&(n=0),typeof t){case"number":if(t>0)return function(t,n){var e,r;for(e=new Array(t),r=0;r<t;++r)e[r]=n;return e}(0|t,n);break;case"object":if("number"===typeof t.length)return function t(n,e,r){var i=0|n[r];if(i<=0)return[];var o,a=new Array(i);if(r===n.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=t(n,e,r+1);return a}(t,n,0)}return[]}},function(t,n,e){"use strict";(function(t){var r=e(53),i=e(54),o=e(55);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,n){if(a()<n)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n)).__proto__=s.prototype:(null===t&&(t=new s(n)),t.length=n),t}function s(t,n,e){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(t,n,e);if("number"===typeof t){if("string"===typeof n)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,n,e)}function c(t,n,e,r){if("number"===typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&n instanceof ArrayBuffer?function(t,n,e,r){if(n.byteLength,e<0||n.byteLength<e)throw new RangeError("'offset' is out of bounds");if(n.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");n=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r);s.TYPED_ARRAY_SUPPORT?(t=n).__proto__=s.prototype:t=l(t,n);return t}(t,n,e,r):"string"===typeof n?function(t,n,e){"string"===typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(n,e),i=(t=u(t,r)).write(n,e);i!==r&&(t=t.slice(0,i));return t}(t,n,e):function(t,n){if(s.isBuffer(n)){var e=0|d(n.length);return 0===(t=u(t,e)).length||n.copy(t,0,0,e),t}if(n){if("undefined"!==typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!==typeof n.length||(r=n.length)!==r?u(t,0):l(t,n);if("Buffer"===n.type&&o(n.data))return l(t,n.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,n)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,n){if(f(n),t=u(t,n<0?0:0|d(n)),!s.TYPED_ARRAY_SUPPORT)for(var e=0;e<n;++e)t[e]=0;return t}function l(t,n){var e=n.length<0?0:0|d(n.length);t=u(t,e);for(var r=0;r<e;r+=1)t[r]=255&n[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,n){if(s.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return C(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return V(t).length;default:if(r)return C(t).length;n=(""+n).toLowerCase(),r=!0}}function _(t,n,e){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,n,e);case"utf8":case"utf-8":return E(this,n,e);case"ascii":return I(this,n,e);case"latin1":case"binary":return S(this,n,e);case"base64":return T(this,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,n,e);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function g(t,n,e,r,i){if(0===t.length)return-1;if("string"===typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"===typeof n&&(n=s.from(n,r)),s.isBuffer(n))return 0===n.length?-1:m(t,n,e,r,i);if("number"===typeof n)return n&=255,s.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,n,e):Uint8Array.prototype.lastIndexOf.call(t,n,e):m(t,[n],e,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,n,e,r,i){var o,a=1,u=t.length,s=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;a=2,u/=2,s/=2,e/=2}function c(t,n){return 1===a?t[n]:t.readUInt16BE(n*a)}if(i){var f=-1;for(o=e;o<u;o++)if(c(t,o)===c(n,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(e+s>u&&(e=u-s),o=e;o>=0;o--){for(var h=!0,l=0;l<s;l++)if(c(t,o+l)!==c(n,l)){h=!1;break}if(h)return o}return-1}function y(t,n,e,r){e=Number(e)||0;var i=t.length-e;r?(r=Number(r))>i&&(r=i):r=i;var o=n.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(n.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function b(t,n,e,r){return q(C(n,t.length-e),t,e,r)}function w(t,n,e,r){return q(function(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}(n),t,e,r)}function A(t,n,e,r){return w(t,n,e,r)}function M(t,n,e,r){return q(V(n),t,e,r)}function x(t,n,e,r){return q(function(t,n){for(var e,r,i,o=[],a=0;a<t.length&&!((n-=2)<0);++a)e=t.charCodeAt(a),r=e>>8,i=e%256,o.push(i),o.push(r);return o}(n,t.length-e),t,e,r)}function T(t,n,e){return 0===n&&e===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,e))}function E(t,n,e){e=Math.min(t.length,e);for(var r=[],i=n;i<e;){var o,a,u,s,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=e)switch(h){case 1:c<128&&(f=c);break;case 2:128===(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,h=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=h}return function(t){var n=t.length;if(n<=4096)return String.fromCharCode.apply(String,t);var e="",r=0;for(;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return e}(r)}n.Buffer=s,n.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}(),n.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,n,e){return c(null,t,n,e)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,n,e){return function(t,n,e,r){return f(n),n<=0?u(t,n):void 0!==e?"string"===typeof r?u(t,n).fill(e,r):u(t,n).fill(e):u(t,n)}(null,t,n,e)},s.allocUnsafe=function(t){return h(null,t)},s.allocUnsafeSlow=function(t){return h(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,n){if(!s.isBuffer(t)||!s.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var e=t.length,r=n.length,i=0,o=Math.min(e,r);i<o;++i)if(t[i]!==n[i]){e=t[i],r=n[i];break}return e<r?-1:r<e?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,n){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var e;if(void 0===n)for(n=0,e=0;e<t.length;++e)n+=t[e].length;var r=s.allocUnsafe(n),i=0;for(e=0;e<t.length;++e){var a=t[e];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)v(this,n,n+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)v(this,n,n+3),v(this,n+1,n+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)v(this,n,n+7),v(this,n+1,n+6),v(this,n+2,n+5),v(this,n+3,n+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):_.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,n,e,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),n<0||e>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&n>=e)return 0;if(r>=i)return-1;if(n>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(e>>>=0)-(n>>>=0),u=Math.min(o,a),c=this.slice(r,i),f=t.slice(n,e),h=0;h<u;++h)if(c[h]!==f[h]){o=c[h],a=f[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,n,e){return-1!==this.indexOf(t,n,e)},s.prototype.indexOf=function(t,n,e){return g(this,t,n,e,!0)},s.prototype.lastIndexOf=function(t,n,e){return g(this,t,n,e,!1)},s.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"===typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var i=this.length-n;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,n,e);case"utf8":case"utf-8":return b(this,t,n,e);case"ascii":return w(this,t,n,e);case"latin1":case"binary":return A(this,t,n,e);case"base64":return M(this,t,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n,e);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(t,n,e){var r="";e=Math.min(t.length,e);for(var i=n;i<e;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,n,e){var r="";e=Math.min(t.length,e);for(var i=n;i<e;++i)r+=String.fromCharCode(t[i]);return r}function R(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var i="",o=n;o<e;++o)i+=F(t[o]);return i}function P(t,n,e){for(var r=t.slice(n,e),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,n,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+n>e)throw new RangeError("Trying to access beyond buffer length")}function U(t,n,e,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<o)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function O(t,n,e,r){n<0&&(n=65535+n+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,n,e,r){n<0&&(n=4294967295+n+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=n>>>8*(r?i:3-i)&255}function D(t,n,e,r,i,o){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function B(t,n,e,r,o){return o||D(t,0,e,4),i.write(t,n,e,r,23,4),e+4}function j(t,n,e,r,o){return o||D(t,0,e,8),i.write(t,n,e,r,52,8),e+8}s.prototype.slice=function(t,n){var e,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),s.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,n)).__proto__=s.prototype;else{var i=n-t;e=new s(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},s.prototype.readUIntLE=function(t,n,e){t|=0,n|=0,e||L(t,n,this.length);for(var r=this[t],i=1,o=0;++o<n&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,n,e){t|=0,n|=0,e||L(t,n,this.length);for(var r=this[t+--n],i=1;n>0&&(i*=256);)r+=this[t+--n]*i;return r},s.prototype.readUInt8=function(t,n){return n||L(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,n){return n||L(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,n){return n||L(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,n){return n||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,n){return n||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,n,e){t|=0,n|=0,e||L(t,n,this.length);for(var r=this[t],i=1,o=0;++o<n&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*n)),r},s.prototype.readIntBE=function(t,n,e){t|=0,n|=0,e||L(t,n,this.length);for(var r=n,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*n)),o},s.prototype.readInt8=function(t,n){return n||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,n){n||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},s.prototype.readInt16BE=function(t,n){n||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},s.prototype.readInt32LE=function(t,n){return n||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,n){return n||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,n){return n||L(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,n){return n||L(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,n){return n||L(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,n){return n||L(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||U(this,t,n,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[n]=255&t;++o<e&&(i*=256);)this[n+o]=t/i&255;return n+e},s.prototype.writeUIntBE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||U(this,t,n,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[n+i]=255&t;--i>=0&&(o*=256);)this[n+i]=t/o&255;return n+e},s.prototype.writeUInt8=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},s.prototype.writeUInt16LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},s.prototype.writeUInt16BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},s.prototype.writeUInt32LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):N(this,t,n,!0),n+4},s.prototype.writeUInt32BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):N(this,t,n,!1),n+4},s.prototype.writeIntLE=function(t,n,e,r){if(t=+t,n|=0,!r){var i=Math.pow(2,8*e-1);U(this,t,n,e,i-1,-i)}var o=0,a=1,u=0;for(this[n]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[n+o-1]&&(u=1),this[n+o]=(t/a>>0)-u&255;return n+e},s.prototype.writeIntBE=function(t,n,e,r){if(t=+t,n|=0,!r){var i=Math.pow(2,8*e-1);U(this,t,n,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[n+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[n+o+1]&&(u=1),this[n+o]=(t/a>>0)-u&255;return n+e},s.prototype.writeInt8=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},s.prototype.writeInt16LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):O(this,t,n,!0),n+2},s.prototype.writeInt16BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):O(this,t,n,!1),n+2},s.prototype.writeInt32LE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):N(this,t,n,!0),n+4},s.prototype.writeInt32BE=function(t,n,e){return t=+t,n|=0,e||U(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):N(this,t,n,!1),n+4},s.prototype.writeFloatLE=function(t,n,e){return B(this,t,n,!0,e)},s.prototype.writeFloatBE=function(t,n,e){return B(this,t,n,!1,e)},s.prototype.writeDoubleLE=function(t,n,e){return j(this,t,n,!0,e)},s.prototype.writeDoubleBE=function(t,n,e){return j(this,t,n,!1,e)},s.prototype.copy=function(t,n,e,r){if(e||(e=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var i,o=r-e;if(this===t&&e<n&&n<r)for(i=o-1;i>=0;--i)t[i+n]=this[i+e];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+n]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),n);return o},s.prototype.fill=function(t,n,e,r){if("string"===typeof t){if("string"===typeof n?(r=n,n=0,e=this.length):"string"===typeof e&&(r=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;var o;if(n>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"===typeof t)for(o=n;o<e;++o)this[o]=t;else{var a=s.isBuffer(t)?t:C(new s(t,r).toString()),u=a.length;for(o=0;o<e-n;++o)this[o+n]=a[o%u]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function C(t,n){var e;n=n||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((e=t.charCodeAt(a))>55295&&e<57344){if(!i){if(e>56319){(n-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(n-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(n-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(n-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((n-=1)<0)break;o.push(e)}else if(e<2048){if((n-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function V(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(k,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function q(t,n,e,r){for(var i=0;i<r&&!(i+e>=n.length||i>=t.length);++i)n[i+e]=t[i];return i}}).call(this,e(11))},function(t,n,e){"use strict";n.byteLength=function(t){var n=c(t),e=n[0],r=n[1];return 3*(e+r)/4-r},n.toByteArray=function(t){var n,e,r=c(t),a=r[0],u=r[1],s=new o(function(t,n,e){return 3*(n+e)/4-e}(0,a,u)),f=0,h=u>0?a-4:a;for(e=0;e<h;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],s[f++]=n>>16&255,s[f++]=n>>8&255,s[f++]=255&n;2===u&&(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,s[f++]=255&n);1===u&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,s[f++]=n>>8&255,s[f++]=255&n);return s},n.fromByteArray=function(t){for(var n,e=t.length,i=e%3,o=[],a=0,u=e-i;a<u;a+=16383)o.push(f(t,a,a+16383>u?u:a+16383));1===i?(n=t[e-1],o.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(t[e-2]<<8)+t[e-1],o.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return-1===e&&(e=n),[e,e===n?0:4-e%4]}function f(t,n,e){for(var i,o,a=[],u=n;u<e;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,n){n.read=function(t,n,e,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,f=-7,h=e?i-1:0,l=e?-1:1,d=t[n+h];for(h+=l,o=d&(1<<-f)-1,d>>=-f,f+=u;f>0;o=256*o+t[n+h],h+=l,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[n+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,n,e,r,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,_=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,a=f):(a=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-a))<1&&(a--,s*=2),(n+=a+h>=1?l/s:l*Math.pow(2,1-h))*s>=2&&(a++,s/=2),a+h>=f?(u=0,a=f):a+h>=1?(u=(n*s-1)*Math.pow(2,i),a+=h):(u=n*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[e+d]=255&u,d+=p,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[e+d]=255&a,d+=p,a/=256,c-=8);t[e+d-p]|=128*_}},function(t,n){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,n,e){"use strict";e.r(n),e.d(n,"glMatrix",(function(){return r})),e.d(n,"mat2",(function(){return i})),e.d(n,"mat2d",(function(){return o})),e.d(n,"mat3",(function(){return a})),e.d(n,"mat4",(function(){return u})),e.d(n,"quat",(function(){return f})),e.d(n,"quat2",(function(){return h})),e.d(n,"vec2",(function(){return l})),e.d(n,"vec3",(function(){return s})),e.d(n,"vec4",(function(){return c}));var r={};e.r(r),e.d(r,"EPSILON",(function(){return d})),e.d(r,"ARRAY_TYPE",(function(){return p})),e.d(r,"RANDOM",(function(){return _})),e.d(r,"setMatrixArrayType",(function(){return v})),e.d(r,"toRadian",(function(){return m})),e.d(r,"equals",(function(){return y}));var i={};e.r(i),e.d(i,"create",(function(){return b})),e.d(i,"clone",(function(){return w})),e.d(i,"copy",(function(){return A})),e.d(i,"identity",(function(){return M})),e.d(i,"fromValues",(function(){return x})),e.d(i,"set",(function(){return T})),e.d(i,"transpose",(function(){return E})),e.d(i,"invert",(function(){return I})),e.d(i,"adjoint",(function(){return S})),e.d(i,"determinant",(function(){return R})),e.d(i,"multiply",(function(){return P})),e.d(i,"rotate",(function(){return L})),e.d(i,"scale",(function(){return U})),e.d(i,"fromRotation",(function(){return O})),e.d(i,"fromScaling",(function(){return N})),e.d(i,"str",(function(){return D})),e.d(i,"frob",(function(){return B})),e.d(i,"LDU",(function(){return j})),e.d(i,"add",(function(){return k})),e.d(i,"subtract",(function(){return F})),e.d(i,"exactEquals",(function(){return C})),e.d(i,"equals",(function(){return V})),e.d(i,"multiplyScalar",(function(){return q})),e.d(i,"multiplyScalarAndAdd",(function(){return Y})),e.d(i,"mul",(function(){return G})),e.d(i,"sub",(function(){return H}));var o={};e.r(o),e.d(o,"create",(function(){return X})),e.d(o,"clone",(function(){return z})),e.d(o,"copy",(function(){return W})),e.d(o,"identity",(function(){return Z})),e.d(o,"fromValues",(function(){return Q})),e.d(o,"set",(function(){return $})),e.d(o,"invert",(function(){return K})),e.d(o,"determinant",(function(){return J})),e.d(o,"multiply",(function(){return tt})),e.d(o,"rotate",(function(){return nt})),e.d(o,"scale",(function(){return et})),e.d(o,"translate",(function(){return rt})),e.d(o,"fromRotation",(function(){return it})),e.d(o,"fromScaling",(function(){return ot})),e.d(o,"fromTranslation",(function(){return at})),e.d(o,"str",(function(){return ut})),e.d(o,"frob",(function(){return st})),e.d(o,"add",(function(){return ct})),e.d(o,"subtract",(function(){return ft})),e.d(o,"multiplyScalar",(function(){return ht})),e.d(o,"multiplyScalarAndAdd",(function(){return lt})),e.d(o,"exactEquals",(function(){return dt})),e.d(o,"equals",(function(){return pt})),e.d(o,"mul",(function(){return _t})),e.d(o,"sub",(function(){return vt}));var a={};e.r(a),e.d(a,"create",(function(){return gt})),e.d(a,"fromMat4",(function(){return mt})),e.d(a,"clone",(function(){return yt})),e.d(a,"copy",(function(){return bt})),e.d(a,"fromValues",(function(){return wt})),e.d(a,"set",(function(){return At})),e.d(a,"identity",(function(){return Mt})),e.d(a,"transpose",(function(){return xt})),e.d(a,"invert",(function(){return Tt})),e.d(a,"adjoint",(function(){return Et})),e.d(a,"determinant",(function(){return It})),e.d(a,"multiply",(function(){return St})),e.d(a,"translate",(function(){return Rt})),e.d(a,"rotate",(function(){return Pt})),e.d(a,"scale",(function(){return Lt})),e.d(a,"fromTranslation",(function(){return Ut})),e.d(a,"fromRotation",(function(){return Ot})),e.d(a,"fromScaling",(function(){return Nt})),e.d(a,"fromMat2d",(function(){return Dt})),e.d(a,"fromQuat",(function(){return Bt})),e.d(a,"normalFromMat4",(function(){return jt})),e.d(a,"projection",(function(){return kt})),e.d(a,"str",(function(){return Ft})),e.d(a,"frob",(function(){return Ct})),e.d(a,"add",(function(){return Vt})),e.d(a,"subtract",(function(){return qt})),e.d(a,"multiplyScalar",(function(){return Yt})),e.d(a,"multiplyScalarAndAdd",(function(){return Gt})),e.d(a,"exactEquals",(function(){return Ht})),e.d(a,"equals",(function(){return Xt})),e.d(a,"mul",(function(){return zt})),e.d(a,"sub",(function(){return Wt}));var u={};e.r(u),e.d(u,"create",(function(){return Zt})),e.d(u,"clone",(function(){return Qt})),e.d(u,"copy",(function(){return $t})),e.d(u,"fromValues",(function(){return Kt})),e.d(u,"set",(function(){return Jt})),e.d(u,"identity",(function(){return tn})),e.d(u,"transpose",(function(){return nn})),e.d(u,"invert",(function(){return en})),e.d(u,"adjoint",(function(){return rn})),e.d(u,"determinant",(function(){return on})),e.d(u,"multiply",(function(){return an})),e.d(u,"translate",(function(){return un})),e.d(u,"scale",(function(){return sn})),e.d(u,"rotate",(function(){return cn})),e.d(u,"rotateX",(function(){return fn})),e.d(u,"rotateY",(function(){return hn})),e.d(u,"rotateZ",(function(){return ln})),e.d(u,"fromTranslation",(function(){return dn})),e.d(u,"fromScaling",(function(){return pn})),e.d(u,"fromRotation",(function(){return _n})),e.d(u,"fromXRotation",(function(){return vn})),e.d(u,"fromYRotation",(function(){return gn})),e.d(u,"fromZRotation",(function(){return mn})),e.d(u,"fromRotationTranslation",(function(){return yn})),e.d(u,"fromQuat2",(function(){return bn})),e.d(u,"getTranslation",(function(){return wn})),e.d(u,"getScaling",(function(){return An})),e.d(u,"getRotation",(function(){return Mn})),e.d(u,"fromRotationTranslationScale",(function(){return xn})),e.d(u,"fromRotationTranslationScaleOrigin",(function(){return Tn})),e.d(u,"fromQuat",(function(){return En})),e.d(u,"frustum",(function(){return In})),e.d(u,"perspective",(function(){return Sn})),e.d(u,"perspectiveFromFieldOfView",(function(){return Rn})),e.d(u,"ortho",(function(){return Pn})),e.d(u,"lookAt",(function(){return Ln})),e.d(u,"targetTo",(function(){return Un})),e.d(u,"str",(function(){return On})),e.d(u,"frob",(function(){return Nn})),e.d(u,"add",(function(){return Dn})),e.d(u,"subtract",(function(){return Bn})),e.d(u,"multiplyScalar",(function(){return jn})),e.d(u,"multiplyScalarAndAdd",(function(){return kn})),e.d(u,"exactEquals",(function(){return Fn})),e.d(u,"equals",(function(){return Cn})),e.d(u,"mul",(function(){return Vn})),e.d(u,"sub",(function(){return qn}));var s={};e.r(s),e.d(s,"create",(function(){return Yn})),e.d(s,"clone",(function(){return Gn})),e.d(s,"length",(function(){return Hn})),e.d(s,"fromValues",(function(){return Xn})),e.d(s,"copy",(function(){return zn})),e.d(s,"set",(function(){return Wn})),e.d(s,"add",(function(){return Zn})),e.d(s,"subtract",(function(){return Qn})),e.d(s,"multiply",(function(){return $n})),e.d(s,"divide",(function(){return Kn})),e.d(s,"ceil",(function(){return Jn})),e.d(s,"floor",(function(){return te})),e.d(s,"min",(function(){return ne})),e.d(s,"max",(function(){return ee})),e.d(s,"round",(function(){return re})),e.d(s,"scale",(function(){return ie})),e.d(s,"scaleAndAdd",(function(){return oe})),e.d(s,"distance",(function(){return ae})),e.d(s,"squaredDistance",(function(){return ue})),e.d(s,"squaredLength",(function(){return se})),e.d(s,"negate",(function(){return ce})),e.d(s,"inverse",(function(){return fe})),e.d(s,"normalize",(function(){return he})),e.d(s,"dot",(function(){return le})),e.d(s,"cross",(function(){return de})),e.d(s,"lerp",(function(){return pe})),e.d(s,"hermite",(function(){return _e})),e.d(s,"bezier",(function(){return ve})),e.d(s,"random",(function(){return ge})),e.d(s,"transformMat4",(function(){return me})),e.d(s,"transformMat3",(function(){return ye})),e.d(s,"transformQuat",(function(){return be})),e.d(s,"rotateX",(function(){return we})),e.d(s,"rotateY",(function(){return Ae})),e.d(s,"rotateZ",(function(){return Me})),e.d(s,"angle",(function(){return xe})),e.d(s,"str",(function(){return Te})),e.d(s,"exactEquals",(function(){return Ee})),e.d(s,"equals",(function(){return Ie})),e.d(s,"sub",(function(){return Se})),e.d(s,"mul",(function(){return Re})),e.d(s,"div",(function(){return Pe})),e.d(s,"dist",(function(){return Le})),e.d(s,"sqrDist",(function(){return Ue})),e.d(s,"len",(function(){return Oe})),e.d(s,"sqrLen",(function(){return Ne})),e.d(s,"forEach",(function(){return De}));var c={};e.r(c),e.d(c,"create",(function(){return Be})),e.d(c,"clone",(function(){return je})),e.d(c,"fromValues",(function(){return ke})),e.d(c,"copy",(function(){return Fe})),e.d(c,"set",(function(){return Ce})),e.d(c,"add",(function(){return Ve})),e.d(c,"subtract",(function(){return qe})),e.d(c,"multiply",(function(){return Ye})),e.d(c,"divide",(function(){return Ge})),e.d(c,"ceil",(function(){return He})),e.d(c,"floor",(function(){return Xe})),e.d(c,"min",(function(){return ze})),e.d(c,"max",(function(){return We})),e.d(c,"round",(function(){return Ze})),e.d(c,"scale",(function(){return Qe})),e.d(c,"scaleAndAdd",(function(){return $e})),e.d(c,"distance",(function(){return Ke})),e.d(c,"squaredDistance",(function(){return Je})),e.d(c,"length",(function(){return tr})),e.d(c,"squaredLength",(function(){return nr})),e.d(c,"negate",(function(){return er})),e.d(c,"inverse",(function(){return rr})),e.d(c,"normalize",(function(){return ir})),e.d(c,"dot",(function(){return or})),e.d(c,"lerp",(function(){return ar})),e.d(c,"random",(function(){return ur})),e.d(c,"transformMat4",(function(){return sr})),e.d(c,"transformQuat",(function(){return cr})),e.d(c,"str",(function(){return fr})),e.d(c,"exactEquals",(function(){return hr})),e.d(c,"equals",(function(){return lr})),e.d(c,"sub",(function(){return dr})),e.d(c,"mul",(function(){return pr})),e.d(c,"div",(function(){return _r})),e.d(c,"dist",(function(){return vr})),e.d(c,"sqrDist",(function(){return gr})),e.d(c,"len",(function(){return mr})),e.d(c,"sqrLen",(function(){return yr})),e.d(c,"forEach",(function(){return br}));var f={};e.r(f),e.d(f,"create",(function(){return wr})),e.d(f,"identity",(function(){return Ar})),e.d(f,"setAxisAngle",(function(){return Mr})),e.d(f,"getAxisAngle",(function(){return xr})),e.d(f,"multiply",(function(){return Tr})),e.d(f,"rotateX",(function(){return Er})),e.d(f,"rotateY",(function(){return Ir})),e.d(f,"rotateZ",(function(){return Sr})),e.d(f,"calculateW",(function(){return Rr})),e.d(f,"slerp",(function(){return Pr})),e.d(f,"random",(function(){return Lr})),e.d(f,"invert",(function(){return Ur})),e.d(f,"conjugate",(function(){return Or})),e.d(f,"fromMat3",(function(){return Nr})),e.d(f,"fromEuler",(function(){return Dr})),e.d(f,"str",(function(){return Br})),e.d(f,"clone",(function(){return jr})),e.d(f,"fromValues",(function(){return kr})),e.d(f,"copy",(function(){return Fr})),e.d(f,"set",(function(){return Cr})),e.d(f,"add",(function(){return Vr})),e.d(f,"mul",(function(){return qr})),e.d(f,"scale",(function(){return Yr})),e.d(f,"dot",(function(){return Gr})),e.d(f,"lerp",(function(){return Hr})),e.d(f,"length",(function(){return Xr})),e.d(f,"len",(function(){return zr})),e.d(f,"squaredLength",(function(){return Wr})),e.d(f,"sqrLen",(function(){return Zr})),e.d(f,"normalize",(function(){return Qr})),e.d(f,"exactEquals",(function(){return $r})),e.d(f,"equals",(function(){return Kr})),e.d(f,"rotationTo",(function(){return Jr})),e.d(f,"sqlerp",(function(){return ti})),e.d(f,"setAxes",(function(){return ni}));var h={};e.r(h),e.d(h,"create",(function(){return ei})),e.d(h,"clone",(function(){return ri})),e.d(h,"fromValues",(function(){return ii})),e.d(h,"fromRotationTranslationValues",(function(){return oi})),e.d(h,"fromRotationTranslation",(function(){return ai})),e.d(h,"fromTranslation",(function(){return ui})),e.d(h,"fromRotation",(function(){return si})),e.d(h,"fromMat4",(function(){return ci})),e.d(h,"copy",(function(){return fi})),e.d(h,"identity",(function(){return hi})),e.d(h,"set",(function(){return li})),e.d(h,"getReal",(function(){return di})),e.d(h,"getDual",(function(){return pi})),e.d(h,"setReal",(function(){return _i})),e.d(h,"setDual",(function(){return vi})),e.d(h,"getTranslation",(function(){return gi})),e.d(h,"translate",(function(){return mi})),e.d(h,"rotateX",(function(){return yi})),e.d(h,"rotateY",(function(){return bi})),e.d(h,"rotateZ",(function(){return wi})),e.d(h,"rotateByQuatAppend",(function(){return Ai})),e.d(h,"rotateByQuatPrepend",(function(){return Mi})),e.d(h,"rotateAroundAxis",(function(){return xi})),e.d(h,"add",(function(){return Ti})),e.d(h,"multiply",(function(){return Ei})),e.d(h,"mul",(function(){return Ii})),e.d(h,"scale",(function(){return Si})),e.d(h,"dot",(function(){return Ri})),e.d(h,"lerp",(function(){return Pi})),e.d(h,"invert",(function(){return Li})),e.d(h,"conjugate",(function(){return Ui})),e.d(h,"length",(function(){return Oi})),e.d(h,"len",(function(){return Ni})),e.d(h,"squaredLength",(function(){return Di})),e.d(h,"sqrLen",(function(){return Bi})),e.d(h,"normalize",(function(){return ji})),e.d(h,"str",(function(){return ki})),e.d(h,"exactEquals",(function(){return Fi})),e.d(h,"equals",(function(){return Ci}));var l={};e.r(l),e.d(l,"create",(function(){return Vi})),e.d(l,"clone",(function(){return qi})),e.d(l,"fromValues",(function(){return Yi})),e.d(l,"copy",(function(){return Gi})),e.d(l,"set",(function(){return Hi})),e.d(l,"add",(function(){return Xi})),e.d(l,"subtract",(function(){return zi})),e.d(l,"multiply",(function(){return Wi})),e.d(l,"divide",(function(){return Zi})),e.d(l,"ceil",(function(){return Qi})),e.d(l,"floor",(function(){return $i})),e.d(l,"min",(function(){return Ki})),e.d(l,"max",(function(){return Ji})),e.d(l,"round",(function(){return to})),e.d(l,"scale",(function(){return no})),e.d(l,"scaleAndAdd",(function(){return eo})),e.d(l,"distance",(function(){return ro})),e.d(l,"squaredDistance",(function(){return io})),e.d(l,"length",(function(){return oo})),e.d(l,"squaredLength",(function(){return ao})),e.d(l,"negate",(function(){return uo})),e.d(l,"inverse",(function(){return so})),e.d(l,"normalize",(function(){return co})),e.d(l,"dot",(function(){return fo})),e.d(l,"cross",(function(){return ho})),e.d(l,"lerp",(function(){return lo})),e.d(l,"random",(function(){return po})),e.d(l,"transformMat2",(function(){return _o})),e.d(l,"transformMat2d",(function(){return vo})),e.d(l,"transformMat3",(function(){return go})),e.d(l,"transformMat4",(function(){return mo})),e.d(l,"rotate",(function(){return yo})),e.d(l,"angle",(function(){return bo})),e.d(l,"str",(function(){return wo})),e.d(l,"exactEquals",(function(){return Ao})),e.d(l,"equals",(function(){return Mo})),e.d(l,"len",(function(){return xo})),e.d(l,"sub",(function(){return To})),e.d(l,"mul",(function(){return Eo})),e.d(l,"div",(function(){return Io})),e.d(l,"dist",(function(){return So})),e.d(l,"sqrDist",(function(){return Ro})),e.d(l,"sqrLen",(function(){return Po})),e.d(l,"forEach",(function(){return Lo}));var d=1e-6,p="undefined"!==typeof Float32Array?Float32Array:Array,_=Math.random;function v(t){p=t}var g=Math.PI/180;function m(t){return t*g}function y(t,n){return Math.abs(t-n)<=d*Math.max(1,Math.abs(t),Math.abs(n))}function b(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){var n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function A(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function M(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function x(t,n,e,r){var i=new p(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function T(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function E(t,n){if(t===n){var e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function I(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=e*a,t):null}function S(t,n){var e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t}function R(t){return t[0]*t[3]-t[2]*t[1]}function P(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],s=e[1],c=e[2],f=e[3];return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*c+o*f,t[3]=i*c+a*f,t}function L(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),s=Math.cos(e);return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*-u+o*s,t[3]=i*-u+a*s,t}function U(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],s=e[1];return t[0]=r*u,t[1]=i*u,t[2]=o*s,t[3]=a*s,t}function O(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t}function N(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function D(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function j(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]}function k(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function F(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function C(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function V(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],s=n[2],c=n[3];return Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}function q(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function Y(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}var G=P,H=F;function X(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function z(t){var n=new p(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function W(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function Z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,n,e,r,i,o){var a=new p(6);return a[0]=t,a[1]=n,a[2]=e,a[3]=r,a[4]=i,a[5]=o,a}function $(t,n,e,r,i,o,a){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function K(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=e*o-r*i;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-i*s,t[3]=e*s,t[4]=(i*u-o*a)*s,t[5]=(r*a-e*u)*s,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=e[0],f=e[1],h=e[2],l=e[3],d=e[4],p=e[5];return t[0]=r*c+o*f,t[1]=i*c+a*f,t[2]=r*h+o*l,t[3]=i*h+a*l,t[4]=r*d+o*p+u,t[5]=i*d+a*p+s,t}function nt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=Math.sin(e),f=Math.cos(e);return t[0]=r*f+o*c,t[1]=i*f+a*c,t[2]=r*-c+o*f,t[3]=i*-c+a*f,t[4]=u,t[5]=s,t}function et(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=e[0],f=e[1];return t[0]=r*c,t[1]=i*c,t[2]=o*f,t[3]=a*f,t[4]=u,t[5]=s,t}function rt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=e[0],f=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*c+o*f+u,t[5]=i*c+a*f+s,t}function it(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t}function ot(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function at(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ct(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t}function ft(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t}function ht(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t}function lt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t}function dt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function pt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=n[0],c=n[1],f=n[2],h=n[3],l=n[4],p=n[5];return Math.abs(e-s)<=d*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(u-p)<=d*Math.max(1,Math.abs(u),Math.abs(p))}var _t=tt,vt=ft;function gt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function mt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function yt(t){var n=new p(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function bt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function wt(t,n,e,r,i,o,a,u,s){var c=new p(9);return c[0]=t,c[1]=n,c[2]=e,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=u,c[8]=s,c}function At(t,n,e,r,i,o,a,u,s,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t}function Mt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xt(t,n){if(t===n){var e=n[1],r=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function Tt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=f*a-u*c,l=-f*o+u*s,d=c*o-a*s,p=e*h+r*l+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-f*r+i*c)*p,t[2]=(u*r-i*a)*p,t[3]=l*p,t[4]=(f*e-i*s)*p,t[5]=(-u*e+i*o)*p,t[6]=d*p,t[7]=(-c*e+r*s)*p,t[8]=(a*e-r*o)*p,t):null}function Et(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8];return t[0]=a*f-u*c,t[1]=i*c-r*f,t[2]=r*u-i*a,t[3]=u*s-o*f,t[4]=e*f-i*s,t[5]=i*o-e*u,t[6]=o*c-a*s,t[7]=r*s-e*c,t[8]=e*a-r*o,t}function It(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return n*(c*o-a*s)+e*(-c*i+a*u)+r*(s*i-o*u)}function St(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=e[0],d=e[1],p=e[2],_=e[3],v=e[4],g=e[5],m=e[6],y=e[7],b=e[8];return t[0]=l*r+d*a+p*c,t[1]=l*i+d*u+p*f,t[2]=l*o+d*s+p*h,t[3]=_*r+v*a+g*c,t[4]=_*i+v*u+g*f,t[5]=_*o+v*s+g*h,t[6]=m*r+y*a+b*c,t[7]=m*i+y*u+b*f,t[8]=m*o+y*s+b*h,t}function Rt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=e[0],d=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=l*r+d*a+c,t[7]=l*i+d*u+f,t[8]=l*o+d*s+h,t}function Pt(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=Math.sin(e),d=Math.cos(e);return t[0]=d*r+l*a,t[1]=d*i+l*u,t[2]=d*o+l*s,t[3]=d*a-l*r,t[4]=d*u-l*i,t[5]=d*s-l*o,t[6]=c,t[7]=f,t[8]=h,t}function Lt(t,n,e){var r=e[0],i=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function Ut(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function Ot(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Nt(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Dt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function Bt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,s=i+i,c=e*a,f=r*a,h=r*u,l=i*a,d=i*u,p=i*s,_=o*a,v=o*u,g=o*s;return t[0]=1-h-p,t[3]=f-g,t[6]=l+v,t[1]=f+g,t[4]=1-c-p,t[7]=d-_,t[2]=l-v,t[5]=d+_,t[8]=1-c-h,t}function jt(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],_=n[13],v=n[14],g=n[15],m=e*u-r*a,y=e*s-i*a,b=e*c-o*a,w=r*s-i*u,A=r*c-o*u,M=i*c-o*s,x=f*_-h*p,T=f*v-l*p,E=f*g-d*p,I=h*v-l*_,S=h*g-d*_,R=l*g-d*v,P=m*R-y*S+b*I+w*E-A*T+M*x;return P?(P=1/P,t[0]=(u*R-s*S+c*I)*P,t[1]=(s*E-a*R-c*T)*P,t[2]=(a*S-u*E+c*x)*P,t[3]=(i*S-r*R-o*I)*P,t[4]=(e*R-i*E+o*T)*P,t[5]=(r*E-e*S-o*x)*P,t[6]=(_*M-v*A+g*w)*P,t[7]=(v*b-p*M-g*y)*P,t[8]=(p*A-_*b+g*m)*P,t):null}function kt(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ft(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Ct(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Vt(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t}function qt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function Yt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t}function Gt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t}function Ht(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Xt(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],h=n[0],l=n[1],p=n[2],_=n[3],v=n[4],g=n[5],m=n[6],y=n[7],b=n[8];return Math.abs(e-h)<=d*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-_)<=d*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-g)<=d*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-y)<=d*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-b)<=d*Math.max(1,Math.abs(f),Math.abs(b))}var zt=St,Wt=qt;function Zt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var n=new p(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function $t(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Kt(t,n,e,r,i,o,a,u,s,c,f,h,l,d,_,v){var g=new p(16);return g[0]=t,g[1]=n,g[2]=e,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=u,g[8]=s,g[9]=c,g[10]=f,g[11]=h,g[12]=l,g[13]=d,g[14]=_,g[15]=v,g}function Jt(t,n,e,r,i,o,a,u,s,c,f,h,l,d,p,_,v){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=d,t[13]=p,t[14]=_,t[15]=v,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function en(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],_=n[13],v=n[14],g=n[15],m=e*u-r*a,y=e*s-i*a,b=e*c-o*a,w=r*s-i*u,A=r*c-o*u,M=i*c-o*s,x=f*_-h*p,T=f*v-l*p,E=f*g-d*p,I=h*v-l*_,S=h*g-d*_,R=l*g-d*v,P=m*R-y*S+b*I+w*E-A*T+M*x;return P?(P=1/P,t[0]=(u*R-s*S+c*I)*P,t[1]=(i*S-r*R-o*I)*P,t[2]=(_*M-v*A+g*w)*P,t[3]=(l*A-h*M-d*w)*P,t[4]=(s*E-a*R-c*T)*P,t[5]=(e*R-i*E+o*T)*P,t[6]=(v*b-p*M-g*y)*P,t[7]=(f*M-l*b+d*y)*P,t[8]=(a*S-u*E+c*x)*P,t[9]=(r*E-e*S-o*x)*P,t[10]=(p*A-_*b+g*m)*P,t[11]=(h*b-f*A-d*m)*P,t[12]=(u*T-a*I-s*x)*P,t[13]=(e*I-r*T+i*x)*P,t[14]=(_*y-p*w-v*m)*P,t[15]=(f*w-h*y+l*m)*P,t):null}function rn(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],_=n[13],v=n[14],g=n[15];return t[0]=u*(l*g-d*v)-h*(s*g-c*v)+_*(s*d-c*l),t[1]=-(r*(l*g-d*v)-h*(i*g-o*v)+_*(i*d-o*l)),t[2]=r*(s*g-c*v)-u*(i*g-o*v)+_*(i*c-o*s),t[3]=-(r*(s*d-c*l)-u*(i*d-o*l)+h*(i*c-o*s)),t[4]=-(a*(l*g-d*v)-f*(s*g-c*v)+p*(s*d-c*l)),t[5]=e*(l*g-d*v)-f*(i*g-o*v)+p*(i*d-o*l),t[6]=-(e*(s*g-c*v)-a*(i*g-o*v)+p*(i*c-o*s)),t[7]=e*(s*d-c*l)-a*(i*d-o*l)+f*(i*c-o*s),t[8]=a*(h*g-d*_)-f*(u*g-c*_)+p*(u*d-c*h),t[9]=-(e*(h*g-d*_)-f*(r*g-o*_)+p*(r*d-o*h)),t[10]=e*(u*g-c*_)-a*(r*g-o*_)+p*(r*c-o*u),t[11]=-(e*(u*d-c*h)-a*(r*d-o*h)+f*(r*c-o*u)),t[12]=-(a*(h*v-l*_)-f*(u*v-s*_)+p*(u*l-s*h)),t[13]=e*(h*v-l*_)-f*(r*v-i*_)+p*(r*l-i*h),t[14]=-(e*(u*v-s*_)-a*(r*v-i*_)+p*(r*s-i*u)),t[15]=e*(u*l-s*h)-a*(r*l-i*h)+f*(r*s-i*u),t}function on(t){var n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],d=t[12],p=t[13],_=t[14],v=t[15];return(n*a-e*o)*(h*v-l*_)-(n*u-r*o)*(f*v-l*p)+(n*s-i*o)*(f*_-h*p)+(e*u-r*a)*(c*v-l*d)-(e*s-i*a)*(c*_-h*d)+(r*s-i*u)*(c*p-f*d)}function an(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],d=n[10],p=n[11],_=n[12],v=n[13],g=n[14],m=n[15],y=e[0],b=e[1],w=e[2],A=e[3];return t[0]=y*r+b*u+w*h+A*_,t[1]=y*i+b*s+w*l+A*v,t[2]=y*o+b*c+w*d+A*g,t[3]=y*a+b*f+w*p+A*m,y=e[4],b=e[5],w=e[6],A=e[7],t[4]=y*r+b*u+w*h+A*_,t[5]=y*i+b*s+w*l+A*v,t[6]=y*o+b*c+w*d+A*g,t[7]=y*a+b*f+w*p+A*m,y=e[8],b=e[9],w=e[10],A=e[11],t[8]=y*r+b*u+w*h+A*_,t[9]=y*i+b*s+w*l+A*v,t[10]=y*o+b*c+w*d+A*g,t[11]=y*a+b*f+w*p+A*m,y=e[12],b=e[13],w=e[14],A=e[15],t[12]=y*r+b*u+w*h+A*_,t[13]=y*i+b*s+w*l+A*v,t[14]=y*o+b*c+w*d+A*g,t[15]=y*a+b*f+w*p+A*m,t}function un(t,n,e){var r=e[0],i=e[1],o=e[2],a=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,d=void 0,p=void 0,_=void 0,v=void 0,g=void 0;return n===t?(t[12]=n[0]*r+n[4]*i+n[8]*o+n[12],t[13]=n[1]*r+n[5]*i+n[9]*o+n[13],t[14]=n[2]*r+n[6]*i+n[10]*o+n[14],t[15]=n[3]*r+n[7]*i+n[11]*o+n[15]):(a=n[0],u=n[1],s=n[2],c=n[3],f=n[4],h=n[5],l=n[6],d=n[7],p=n[8],_=n[9],v=n[10],g=n[11],t[0]=a,t[1]=u,t[2]=s,t[3]=c,t[4]=f,t[5]=h,t[6]=l,t[7]=d,t[8]=p,t[9]=_,t[10]=v,t[11]=g,t[12]=a*r+f*i+p*o+n[12],t[13]=u*r+h*i+_*o+n[13],t[14]=s*r+l*i+v*o+n[14],t[15]=c*r+d*i+g*o+n[15]),t}function sn(t,n,e){var r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function cn(t,n,e,r){var i,o,a,u,s,c,f,h,l,p,_,v,g,m,y,b,w,A,M,x,T,E,I,S,R=r[0],P=r[1],L=r[2],U=Math.sqrt(R*R+P*P+L*L);return U<d?null:(R*=U=1/U,P*=U,L*=U,i=Math.sin(e),a=1-(o=Math.cos(e)),u=n[0],s=n[1],c=n[2],f=n[3],h=n[4],l=n[5],p=n[6],_=n[7],v=n[8],g=n[9],m=n[10],y=n[11],b=R*R*a+o,w=P*R*a+L*i,A=L*R*a-P*i,M=R*P*a-L*i,x=P*P*a+o,T=L*P*a+R*i,E=R*L*a+P*i,I=P*L*a-R*i,S=L*L*a+o,t[0]=u*b+h*w+v*A,t[1]=s*b+l*w+g*A,t[2]=c*b+p*w+m*A,t[3]=f*b+_*w+y*A,t[4]=u*M+h*x+v*T,t[5]=s*M+l*x+g*T,t[6]=c*M+p*x+m*T,t[7]=f*M+_*x+y*T,t[8]=u*E+h*I+v*S,t[9]=s*E+l*I+g*S,t[10]=c*E+p*I+m*S,t[11]=f*E+_*I+y*S,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function fn(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[4],a=n[5],u=n[6],s=n[7],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*r,t[5]=a*i+f*r,t[6]=u*i+h*r,t[7]=s*i+l*r,t[8]=c*i-o*r,t[9]=f*i-a*r,t[10]=h*i-u*r,t[11]=l*i-s*r,t}function hn(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],s=n[3],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*r,t[1]=a*i-f*r,t[2]=u*i-h*r,t[3]=s*i-l*r,t[8]=o*r+c*i,t[9]=a*r+f*i,t[10]=u*r+h*i,t[11]=s*r+l*i,t}function ln(t,n,e){var r=Math.sin(e),i=Math.cos(e),o=n[0],a=n[1],u=n[2],s=n[3],c=n[4],f=n[5],h=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*r,t[1]=a*i+f*r,t[2]=u*i+h*r,t[3]=s*i+l*r,t[4]=c*i-o*r,t[5]=f*i-a*r,t[6]=h*i-u*r,t[7]=l*i-s*r,t}function dn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function pn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _n(t,n,e){var r,i,o,a=e[0],u=e[1],s=e[2],c=Math.sqrt(a*a+u*u+s*s);return c<d?null:(a*=c=1/c,u*=c,s*=c,r=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+s*r,t[2]=s*a*o-u*r,t[3]=0,t[4]=a*u*o-s*r,t[5]=u*u*o+i,t[6]=s*u*o+a*r,t[7]=0,t[8]=a*s*o+u*r,t[9]=u*s*o-a*r,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function vn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mn(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yn(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=r+r,s=i+i,c=o+o,f=r*u,h=r*s,l=r*c,d=i*s,p=i*c,_=o*c,v=a*u,g=a*s,m=a*c;return t[0]=1-(d+_),t[1]=h+m,t[2]=l-g,t[3]=0,t[4]=h-m,t[5]=1-(f+_),t[6]=p+v,t[7]=0,t[8]=l+g,t[9]=p-v,t[10]=1-(f+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function bn(t,n){var e=new p(3),r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=r*r+i*i+o*o+a*a;return h>0?(e[0]=2*(u*a+f*r+s*o-c*i)/h,e[1]=2*(s*a+f*i+c*r-u*o)/h,e[2]=2*(c*a+f*o+u*i-s*r)/h):(e[0]=2*(u*a+f*r+s*o-c*i),e[1]=2*(s*a+f*i+c*r-u*o),e[2]=2*(c*a+f*o+u*i-s*r)),yn(t,n,e),t}function wn(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function An(t,n){var e=n[0],r=n[1],i=n[2],o=n[4],a=n[5],u=n[6],s=n[8],c=n[9],f=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t}function Mn(t,n){var e=n[0]+n[5]+n[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function xn(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,f=a+a,h=i*s,l=i*c,d=i*f,p=o*c,_=o*f,v=a*f,g=u*s,m=u*c,y=u*f,b=r[0],w=r[1],A=r[2];return t[0]=(1-(p+v))*b,t[1]=(l+y)*b,t[2]=(d-m)*b,t[3]=0,t[4]=(l-y)*w,t[5]=(1-(h+v))*w,t[6]=(_+g)*w,t[7]=0,t[8]=(d+m)*A,t[9]=(_-g)*A,t[10]=(1-(h+p))*A,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Tn(t,n,e,r,i){var o=n[0],a=n[1],u=n[2],s=n[3],c=o+o,f=a+a,h=u+u,l=o*c,d=o*f,p=o*h,_=a*f,v=a*h,g=u*h,m=s*c,y=s*f,b=s*h,w=r[0],A=r[1],M=r[2],x=i[0],T=i[1],E=i[2],I=(1-(_+g))*w,S=(d+b)*w,R=(p-y)*w,P=(d-b)*A,L=(1-(l+g))*A,U=(v+m)*A,O=(p+y)*M,N=(v-m)*M,D=(1-(l+_))*M;return t[0]=I,t[1]=S,t[2]=R,t[3]=0,t[4]=P,t[5]=L,t[6]=U,t[7]=0,t[8]=O,t[9]=N,t[10]=D,t[11]=0,t[12]=e[0]+x-(I*x+P*T+O*E),t[13]=e[1]+T-(S*x+L*T+N*E),t[14]=e[2]+E-(R*x+U*T+D*E),t[15]=1,t}function En(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e+e,u=r+r,s=i+i,c=e*a,f=r*a,h=r*u,l=i*a,d=i*u,p=i*s,_=o*a,v=o*u,g=o*s;return t[0]=1-h-p,t[1]=f+g,t[2]=l-v,t[3]=0,t[4]=f-g,t[5]=1-c-p,t[6]=d+_,t[7]=0,t[8]=l+v,t[9]=d-_,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function In(t,n,e,r,i,o,a){var u=1/(e-n),s=1/(i-r),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(e+n)*u,t[9]=(i+r)*s,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function Sn(t,n,e,r,i){var o=1/Math.tan(n/2),a=void 0;return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function Rn(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function Pn(t,n,e,r,i,o,a){var u=1/(n-e),s=1/(r-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+e)*u,t[13]=(i+r)*s,t[14]=(a+o)*c,t[15]=1,t}function Ln(t,n,e,r){var i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,p=void 0,_=n[0],v=n[1],g=n[2],m=r[0],y=r[1],b=r[2],w=e[0],A=e[1],M=e[2];return Math.abs(_-w)<d&&Math.abs(v-A)<d&&Math.abs(g-M)<d?tn(t):(f=_-w,h=v-A,l=g-M,i=y*(l*=p=1/Math.sqrt(f*f+h*h+l*l))-b*(h*=p),o=b*(f*=p)-m*l,a=m*h-y*f,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=h*a-l*o,s=l*i-f*a,c=f*o-h*i,(p=Math.sqrt(u*u+s*s+c*c))?(u*=p=1/p,s*=p,c*=p):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=l,t[11]=0,t[12]=-(i*_+o*v+a*g),t[13]=-(u*_+s*v+c*g),t[14]=-(f*_+h*v+l*g),t[15]=1,t)}function Un(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=r[0],s=r[1],c=r[2],f=i-e[0],h=o-e[1],l=a-e[2],d=f*f+h*h+l*l;d>0&&(f*=d=1/Math.sqrt(d),h*=d,l*=d);var p=s*l-c*h,_=c*f-u*l,v=u*h-s*f;return(d=p*p+_*_+v*v)>0&&(p*=d=1/Math.sqrt(d),_*=d,v*=d),t[0]=p,t[1]=_,t[2]=v,t[3]=0,t[4]=h*v-l*_,t[5]=l*p-f*v,t[6]=f*_-h*p,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function On(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Nn(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Dn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function Bn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function jn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function kn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function Fn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function Cn(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],h=t[9],l=t[10],p=t[11],_=t[12],v=t[13],g=t[14],m=t[15],y=n[0],b=n[1],w=n[2],A=n[3],M=n[4],x=n[5],T=n[6],E=n[7],I=n[8],S=n[9],R=n[10],P=n[11],L=n[12],U=n[13],O=n[14],N=n[15];return Math.abs(e-y)<=d*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(r-b)<=d*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-w)<=d*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-A)<=d*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(a-M)<=d*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(u-x)<=d*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-T)<=d*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(c-E)<=d*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-I)<=d*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(h-S)<=d*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(l-R)<=d*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(p-P)<=d*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(_-L)<=d*Math.max(1,Math.abs(_),Math.abs(L))&&Math.abs(v-U)<=d*Math.max(1,Math.abs(v),Math.abs(U))&&Math.abs(g-O)<=d*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(m-N)<=d*Math.max(1,Math.abs(m),Math.abs(N))}var Vn=an,qn=Bn;function Yn(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Gn(t){var n=new p(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function Hn(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function Xn(t,n,e){var r=new p(3);return r[0]=t,r[1]=n,r[2]=e,r}function zn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Wn(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function Zn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function Qn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function $n(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function Kn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function Jn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function te(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function ne(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function ee(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function re(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function ie(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function oe(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function ae(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)}function ue(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function se(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function ce(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function fe(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function he(t,n){var e=n[0],r=n[1],i=n[2],o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function le(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function de(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],s=e[2];return t[0]=i*s-o*u,t[1]=o*a-r*s,t[2]=r*u-i*a,t}function pe(t,n,e,r){var i=n[0],o=n[1],a=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t}function _e(t,n,e,r,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=n[0]*u+e[0]*s+r[0]*c+i[0]*f,t[1]=n[1]*u+e[1]*s+r[1]*c+i[1]*f,t[2]=n[2]*u+e[2]*s+r[2]*c+i[2]*f,t}function ve(t,n,e,r,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,f=3*o*u,h=3*s*a,l=s*o;return t[0]=n[0]*c+e[0]*f+r[0]*h+i[0]*l,t[1]=n[1]*c+e[1]*f+r[1]*h+i[1]*l,t[2]=n[2]*c+e[2]*f+r[2]*h+i[2]*l,t}function ge(t,n){n=n||1;var e=2*_()*Math.PI,r=2*_()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t}function me(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[3]*r+e[7]*i+e[11]*o+e[15];return a=a||1,t[0]=(e[0]*r+e[4]*i+e[8]*o+e[12])/a,t[1]=(e[1]*r+e[5]*i+e[9]*o+e[13])/a,t[2]=(e[2]*r+e[6]*i+e[10]*o+e[14])/a,t}function ye(t,n,e){var r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t}function be(t,n,e){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],s=n[1],c=n[2],f=i*c-o*s,h=o*u-r*c,l=r*s-i*u,d=i*l-o*h,p=o*f-r*l,_=r*h-i*f,v=2*a;return f*=v,h*=v,l*=v,d*=2,p*=2,_*=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+_,t}function we(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function Ae(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function Me(t,n,e,r){var i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t}function xe(t,n){var e=Xn(t[0],t[1],t[2]),r=Xn(n[0],n[1],n[2]);he(e,e),he(r,r);var i=le(e,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Te(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ee(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Ie(t,n){var e=t[0],r=t[1],i=t[2],o=n[0],a=n[1],u=n[2];return Math.abs(e-o)<=d*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))}var Se=Qn,Re=$n,Pe=Kn,Le=ae,Ue=ue,Oe=Hn,Ne=se,De=function(){var t=Yn();return function(n,e,r,i,o,a){var u=void 0,s=void 0;for(e||(e=3),r||(r=0),s=i?Math.min(i*e+r,n.length):n.length,u=r;u<s;u+=e)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2];return n}}();function Be(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function je(t){var n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function ke(t,n,e,r){var i=new p(4);return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function Fe(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function Ce(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function Ve(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function qe(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function Ye(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function Ge(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function He(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Xe(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function ze(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function We(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function Ze(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function Qe(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function $e(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function Ke(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function Je(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function tr(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function nr(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function er(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function rr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function ir(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function or(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function ar(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=a+r*(e[2]-a),t[3]=u+r*(e[3]-u),t}function ur(t,n){var e,r,i,o,a,u;n=n||1;do{a=(e=2*_()-1)*e+(r=2*_()-1)*r}while(a>=1);do{u=(i=2*_()-1)*i+(o=2*_()-1)*o}while(u>=1);var s=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*r,t[2]=n*i*s,t[3]=n*o*s,t}function sr(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*a,t}function cr(t,n,e){var r=n[0],i=n[1],o=n[2],a=e[0],u=e[1],s=e[2],c=e[3],f=c*r+u*o-s*i,h=c*i+s*r-a*o,l=c*o+a*i-u*r,d=-a*r-u*i-s*o;return t[0]=f*c+d*-a+h*-s-l*-u,t[1]=h*c+d*-u+l*-a-f*-s,t[2]=l*c+d*-s+f*-u-h*-a,t[3]=n[3],t}function fr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function hr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function lr(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=n[0],u=n[1],s=n[2],c=n[3];return Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}var dr=qe,pr=Ye,_r=Ge,vr=Ke,gr=Je,mr=tr,yr=nr,br=function(){var t=Be();return function(n,e,r,i,o,a){var u=void 0,s=void 0;for(e||(e=4),r||(r=0),s=i?Math.min(i*e+r,n.length):n.length,u=r;u<s;u+=e)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}();function wr(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ar(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Mr(t,n,e){e*=.5;var r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function xr(t,n){var e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>d?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function Tr(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],s=e[1],c=e[2],f=e[3];return t[0]=r*f+a*u+i*c-o*s,t[1]=i*f+a*s+o*u-r*c,t[2]=o*f+a*c+r*s-i*u,t[3]=a*f-r*u-i*s-o*c,t}function Er(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),s=Math.cos(e);return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=o*s-i*u,t[3]=a*s-r*u,t}function Ir(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),s=Math.cos(e);return t[0]=r*s-o*u,t[1]=i*s+a*u,t[2]=o*s+r*u,t[3]=a*s-i*u,t}function Sr(t,n,e){e*=.5;var r=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(e),s=Math.cos(e);return t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=o*s+a*u,t[3]=a*s-o*u,t}function Rr(t,n){var e=n[0],r=n[1],i=n[2];return t[0]=e,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-i*i)),t}function Pr(t,n,e,r){var i=n[0],o=n[1],a=n[2],u=n[3],s=e[0],c=e[1],f=e[2],h=e[3],l=void 0,p=void 0,_=void 0,v=void 0,g=void 0;return(p=i*s+o*c+a*f+u*h)<0&&(p=-p,s=-s,c=-c,f=-f,h=-h),1-p>d?(l=Math.acos(p),_=Math.sin(l),v=Math.sin((1-r)*l)/_,g=Math.sin(r*l)/_):(v=1-r,g=r),t[0]=v*i+g*s,t[1]=v*o+g*c,t[2]=v*a+g*f,t[3]=v*u+g*h,t}function Lr(t){var n=_(),e=_(),r=_(),i=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*e),t[1]=i*Math.cos(2*Math.PI*e),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function Ur(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=e*e+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-e*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t}function Or(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Nr(t,n){var e=n[0]+n[4]+n[8],r=void 0;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(n[3*i+i]-n[3*o+o]-n[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(n[3*o+a]-n[3*a+o])*r,t[o]=(n[3*o+i]+n[3*i+o])*r,t[a]=(n[3*a+i]+n[3*i+a])*r}return t}function Dr(t,n,e,r){var i=.5*Math.PI/180;n*=i,e*=i,r*=i;var o=Math.sin(n),a=Math.cos(n),u=Math.sin(e),s=Math.cos(e),c=Math.sin(r),f=Math.cos(r);return t[0]=o*s*f-a*u*c,t[1]=a*u*f+o*s*c,t[2]=a*s*c-o*u*f,t[3]=a*s*f+o*u*c,t}function Br(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var jr=je,kr=ke,Fr=Fe,Cr=Ce,Vr=Ve,qr=Tr,Yr=Qe,Gr=or,Hr=ar,Xr=tr,zr=Xr,Wr=nr,Zr=Wr,Qr=ir,$r=hr,Kr=lr,Jr=function(){var t=Yn(),n=Xn(1,0,0),e=Xn(0,1,0);return function(r,i,o){var a=le(i,o);return a<-.999999?(de(t,n,i),Oe(t)<1e-6&&de(t,e,i),he(t,t),Mr(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(de(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,Qr(r,r))}}(),ti=function(){var t=wr(),n=wr();return function(e,r,i,o,a,u){return Pr(t,r,a,u),Pr(n,i,o,u),Pr(e,t,n,2*u*(1-u)),e}}(),ni=function(){var t=gt();return function(n,e,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],Qr(n,Nr(n,t))}}();function ei(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ri(t){var n=new p(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function ii(t,n,e,r,i,o,a,u){var s=new p(8);return s[0]=t,s[1]=n,s[2]=e,s[3]=r,s[4]=i,s[5]=o,s[6]=a,s[7]=u,s}function oi(t,n,e,r,i,o,a){var u=new p(8);u[0]=t,u[1]=n,u[2]=e,u[3]=r;var s=.5*i,c=.5*o,f=.5*a;return u[4]=s*r+c*e-f*n,u[5]=c*r+f*t-s*e,u[6]=f*r+s*n-c*t,u[7]=-s*t-c*n-f*e,u}function ai(t,n,e){var r=.5*e[0],i=.5*e[1],o=.5*e[2],a=n[0],u=n[1],s=n[2],c=n[3];return t[0]=a,t[1]=u,t[2]=s,t[3]=c,t[4]=r*c+i*s-o*u,t[5]=i*c+o*a-r*s,t[6]=o*c+r*u-i*a,t[7]=-r*a-i*u-o*s,t}function ui(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function si(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function ci(t,n){var e=wr();Mn(e,n);var r=new p(3);return wn(r,n),ai(t,e,r),t}function fi(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function hi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function li(t,n,e,r,i,o,a,u,s){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t}var di=Fr;function pi(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}var _i=Fr;function vi(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function gi(t,n){var e=n[4],r=n[5],i=n[6],o=n[7],a=-n[0],u=-n[1],s=-n[2],c=n[3];return t[0]=2*(e*c+o*a+r*s-i*u),t[1]=2*(r*c+o*u+i*a-e*s),t[2]=2*(i*c+o*s+e*u-r*a),t}function mi(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=.5*e[0],s=.5*e[1],c=.5*e[2],f=n[4],h=n[5],l=n[6],d=n[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*u+i*c-o*s+f,t[5]=a*s+o*u-r*c+h,t[6]=a*c+r*s-i*u+l,t[7]=-r*u-i*s-o*c+d,t}function yi(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*r+s*o-c*i,l=s*a+f*i+c*r-u*o,d=c*a+f*o+u*i-s*r,p=f*a-u*r-s*i-c*o;return Er(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+l*o-d*i,t[5]=l*a+p*i+d*r-h*o,t[6]=d*a+p*o+h*i-l*r,t[7]=p*a-h*r-l*i-d*o,t}function bi(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*r+s*o-c*i,l=s*a+f*i+c*r-u*o,d=c*a+f*o+u*i-s*r,p=f*a-u*r-s*i-c*o;return Ir(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+l*o-d*i,t[5]=l*a+p*i+d*r-h*o,t[6]=d*a+p*o+h*i-l*r,t[7]=p*a-h*r-l*i-d*o,t}function wi(t,n,e){var r=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*r+s*o-c*i,l=s*a+f*i+c*r-u*o,d=c*a+f*o+u*i-s*r,p=f*a-u*r-s*i-c*o;return Sr(t,n,e),r=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*r+l*o-d*i,t[5]=l*a+p*i+d*r-h*o,t[6]=d*a+p*o+h*i-l*r,t[7]=p*a-h*r-l*i-d*o,t}function Ai(t,n,e){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=u*a+f*r+s*o-c*i,t[1]=s*a+f*i+c*r-u*o,t[2]=c*a+f*o+u*i-s*r,t[3]=f*a-u*r-s*i-c*o,u=n[4],s=n[5],c=n[6],f=n[7],t[4]=u*a+f*r+s*o-c*i,t[5]=s*a+f*i+c*r-u*o,t[6]=c*a+f*o+u*i-s*r,t[7]=f*a-u*r-s*i-c*o,t}function Mi(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],s=e[1],c=e[2],f=e[3];return t[0]=r*f+a*u+i*c-o*s,t[1]=i*f+a*s+o*u-r*c,t[2]=o*f+a*c+r*s-i*u,t[3]=a*f-r*u-i*s-o*c,u=e[4],s=e[5],c=e[6],f=e[7],t[4]=r*f+a*u+i*c-o*s,t[5]=i*f+a*s+o*u-r*c,t[6]=o*f+a*c+r*s-i*u,t[7]=a*f-r*u-i*s-o*c,t}function xi(t,n,e,r){if(Math.abs(r)<d)return fi(t,n);var i=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);r*=.5;var o=Math.sin(r),a=o*e[0]/i,u=o*e[1]/i,s=o*e[2]/i,c=Math.cos(r),f=n[0],h=n[1],l=n[2],p=n[3];t[0]=f*c+p*a+h*s-l*u,t[1]=h*c+p*u+l*a-f*s,t[2]=l*c+p*s+f*u-h*a,t[3]=p*c-f*a-h*u-l*s;var _=n[4],v=n[5],g=n[6],m=n[7];return t[4]=_*c+m*a+v*s-g*u,t[5]=v*c+m*u+g*a-_*s,t[6]=g*c+m*s+_*u-v*a,t[7]=m*c-_*a-v*u-g*s,t}function Ti(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t}function Ei(t,n,e){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[4],s=e[5],c=e[6],f=e[7],h=n[4],l=n[5],d=n[6],p=n[7],_=e[0],v=e[1],g=e[2],m=e[3];return t[0]=r*m+a*_+i*g-o*v,t[1]=i*m+a*v+o*_-r*g,t[2]=o*m+a*g+r*v-i*_,t[3]=a*m-r*_-i*v-o*g,t[4]=r*f+a*u+i*c-o*s+h*m+p*_+l*g-d*v,t[5]=i*f+a*s+o*u-r*c+l*m+p*v+d*_-h*g,t[6]=o*f+a*c+r*s-i*u+d*m+p*g+h*v-l*_,t[7]=a*f-r*u-i*s-o*c+p*m-h*_-l*v-d*g,t}var Ii=Ei;function Si(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t}var Ri=Gr;function Pi(t,n,e,r){var i=1-r;return Ri(n,e)<0&&(r=-r),t[0]=n[0]*i+e[0]*r,t[1]=n[1]*i+e[1]*r,t[2]=n[2]*i+e[2]*r,t[3]=n[3]*i+e[3]*r,t[4]=n[4]*i+e[4]*r,t[5]=n[5]*i+e[5]*r,t[6]=n[6]*i+e[6]*r,t[7]=n[7]*i+e[7]*r,t}function Li(t,n){var e=Di(n);return t[0]=-n[0]/e,t[1]=-n[1]/e,t[2]=-n[2]/e,t[3]=n[3]/e,t[4]=-n[4]/e,t[5]=-n[5]/e,t[6]=-n[6]/e,t[7]=n[7]/e,t}function Ui(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}var Oi=Xr,Ni=Oi,Di=Wr,Bi=Di;function ji(t,n){var e=Di(n);if(e>0){e=Math.sqrt(e);var r=n[0]/e,i=n[1]/e,o=n[2]/e,a=n[3]/e,u=n[4],s=n[5],c=n[6],f=n[7],h=r*u+i*s+o*c+a*f;t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=(u-r*h)/e,t[5]=(s-i*h)/e,t[6]=(c-o*h)/e,t[7]=(f-a*h)/e}return t}function ki(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Fi(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function Ci(t,n){var e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=n[0],h=n[1],l=n[2],p=n[3],_=n[4],v=n[5],g=n[6],m=n[7];return Math.abs(e-f)<=d*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-_)<=d*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(u-v)<=d*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-g)<=d*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-m)<=d*Math.max(1,Math.abs(c),Math.abs(m))}function Vi(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function qi(t){var n=new p(2);return n[0]=t[0],n[1]=t[1],n}function Yi(t,n){var e=new p(2);return e[0]=t,e[1]=n,e}function Gi(t,n){return t[0]=n[0],t[1]=n[1],t}function Hi(t,n,e){return t[0]=n,t[1]=e,t}function Xi(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function zi(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function Wi(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function Zi(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function Qi(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function $i(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function Ki(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function Ji(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function to(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function no(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function eo(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function ro(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function io(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function oo(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function ao(t){var n=t[0],e=t[1];return n*n+e*e}function uo(t,n){return t[0]=-n[0],t[1]=-n[1],t}function so(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function co(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i),t}function fo(t,n){return t[0]*n[0]+t[1]*n[1]}function ho(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function lo(t,n,e,r){var i=n[0],o=n[1];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t}function po(t,n){n=n||1;var e=2*_()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function _o(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t}function vo(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t}function go(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t}function mo(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t}function yo(t,n,e,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sin(r),u=Math.cos(r);return t[0]=i*u-o*a+e[0],t[1]=i*a+o*u+e[1],t}function bo(t,n){var e=t[0],r=t[1],i=n[0],o=n[1],a=e*e+r*r;a>0&&(a=1/Math.sqrt(a));var u=i*i+o*o;u>0&&(u=1/Math.sqrt(u));var s=(e*i+r*o)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function wo(t){return"vec2("+t[0]+", "+t[1]+")"}function Ao(t,n){return t[0]===n[0]&&t[1]===n[1]}function Mo(t,n){var e=t[0],r=t[1],i=n[0],o=n[1];return Math.abs(e-i)<=d*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))}var xo=oo,To=zi,Eo=Wi,Io=Zi,So=ro,Ro=io,Po=ao,Lo=function(){var t=Vi();return function(n,e,r,i,o,a){var u=void 0,s=void 0;for(e||(e=2),r||(r=0),s=i?Math.min(i*e+r,n.length):n.length,u=r;u<s;u+=e)t[0]=n[u],t[1]=n[u+1],o(t,t,a),n[u]=t[0],n[u+1]=t[1];return n}}()}]]);
//# sourceMappingURL=2.71775460.chunk.js.map